<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GPSat package &mdash; GPSat 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=d45e8c67"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Utils" href="utils.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            GPSat
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli_examples.html">Command Line Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/gp_regression.html">Basic Gaussian process regression (GPR)</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/using_gpus.html">Using GPUs to accelerate training and inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/1d_local_expert_model_part_1.html">Modelling with local GP experts (Part I): A 1D case study</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/1d_local_expert_model_part_2.html">Modelling with local GP experts (Part II): Using the <code class="docutils literal notranslate"><span class="pre">LocalExpertOI</span></code> API</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/inline_example.html">Inline Example of Local Expert ‘Optimal Interpolation’ on Satellite Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/dataloader.html">DataLoader Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/bin_data.html">Bin Data Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="config_classes.html">Configuration dataclasses</a></li>
<li class="toctree-l1"><a class="reference internal" href="local_experts.html">Local expert optimal interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="GPSat.models.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="postprocessing.html">Postprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataloader.html">Dataloader</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utils</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">GPSat package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-GPSat.bin_data">GPSat.bin_data module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.bin_data.BinData"><code class="docutils literal notranslate"><span class="pre">BinData</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.bin_data.BinData.bin_data"><code class="docutils literal notranslate"><span class="pre">BinData.bin_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.bin_data.BinData.bin_data_all_at_once"><code class="docutils literal notranslate"><span class="pre">BinData.bin_data_all_at_once()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.bin_data.BinData.bin_data_by_batch"><code class="docutils literal notranslate"><span class="pre">BinData.bin_data_by_batch()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.bin_data.BinData.bin_wrapper"><code class="docutils literal notranslate"><span class="pre">BinData.bin_wrapper()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.bin_data.BinData.write_dataframe_to_table"><code class="docutils literal notranslate"><span class="pre">BinData.write_dataframe_to_table()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.bin_data.get_bin_data_config"><code class="docutils literal notranslate"><span class="pre">get_bin_data_config()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.bin_data.plot_wrapper"><code class="docutils literal notranslate"><span class="pre">plot_wrapper()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-GPSat.dataloader">GPSat.dataloader module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.dataloader.DataLoader"><code class="docutils literal notranslate"><span class="pre">DataLoader</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.add_cols"><code class="docutils literal notranslate"><span class="pre">DataLoader.add_cols()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.add_data_to_col"><code class="docutils literal notranslate"><span class="pre">DataLoader.add_data_to_col()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.bin_data"><code class="docutils literal notranslate"><span class="pre">DataLoader.bin_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.bin_data_by"><code class="docutils literal notranslate"><span class="pre">DataLoader.bin_data_by()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.connect_to_hdf_store"><code class="docutils literal notranslate"><span class="pre">DataLoader.connect_to_hdf_store()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.data_select"><code class="docutils literal notranslate"><span class="pre">DataLoader.data_select()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.file_suffix_engine_map"><code class="docutils literal notranslate"><span class="pre">DataLoader.file_suffix_engine_map</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.generate_local_expert_locations"><code class="docutils literal notranslate"><span class="pre">DataLoader.generate_local_expert_locations()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.get_attribute_from_table"><code class="docutils literal notranslate"><span class="pre">DataLoader.get_attribute_from_table()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.get_keys"><code class="docutils literal notranslate"><span class="pre">DataLoader.get_keys()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.get_masks_for_expert_loc"><code class="docutils literal notranslate"><span class="pre">DataLoader.get_masks_for_expert_loc()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.get_run_info"><code class="docutils literal notranslate"><span class="pre">DataLoader.get_run_info()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.get_where_list"><code class="docutils literal notranslate"><span class="pre">DataLoader.get_where_list()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.get_where_list_legacy"><code class="docutils literal notranslate"><span class="pre">DataLoader.get_where_list_legacy()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.hdf_tables_in_store"><code class="docutils literal notranslate"><span class="pre">DataLoader.hdf_tables_in_store()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.is_list_of_dict"><code class="docutils literal notranslate"><span class="pre">DataLoader.is_list_of_dict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.kdt_tree_list_for_local_select"><code class="docutils literal notranslate"><span class="pre">DataLoader.kdt_tree_list_for_local_select()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.load"><code class="docutils literal notranslate"><span class="pre">DataLoader.load()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.local_data_select"><code class="docutils literal notranslate"><span class="pre">DataLoader.local_data_select()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.make_multiindex_df"><code class="docutils literal notranslate"><span class="pre">DataLoader.make_multiindex_df()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.mindex_df_to_mindex_dataarray"><code class="docutils literal notranslate"><span class="pre">DataLoader.mindex_df_to_mindex_dataarray()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.read_flat_files"><code class="docutils literal notranslate"><span class="pre">DataLoader.read_flat_files()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.read_from_multiple_files"><code class="docutils literal notranslate"><span class="pre">DataLoader.read_from_multiple_files()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.read_from_npy"><code class="docutils literal notranslate"><span class="pre">DataLoader.read_from_npy()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.read_from_pkl_dict"><code class="docutils literal notranslate"><span class="pre">DataLoader.read_from_pkl_dict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.read_hdf"><code class="docutils literal notranslate"><span class="pre">DataLoader.read_hdf()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.row_select_bool"><code class="docutils literal notranslate"><span class="pre">DataLoader.row_select_bool()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.write_to_hdf"><code class="docutils literal notranslate"><span class="pre">DataLoader.write_to_hdf()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataloader.DataLoader.write_to_netcdf"><code class="docutils literal notranslate"><span class="pre">DataLoader.write_to_netcdf()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-GPSat.dataprepper">GPSat.dataprepper module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.dataprepper.DataPrep"><code class="docutils literal notranslate"><span class="pre">DataPrep</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataprepper.DataPrep.bin_data"><code class="docutils literal notranslate"><span class="pre">DataPrep.bin_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.dataprepper.DataPrep.bin_data_by"><code class="docutils literal notranslate"><span class="pre">DataPrep.bin_data_by()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-GPSat.datetime_utils">GPSat.datetime_utils module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.datetime_utils.date_from_datetime"><code class="docutils literal notranslate"><span class="pre">date_from_datetime()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.datetime_utils.datetime_from_float_column"><code class="docutils literal notranslate"><span class="pre">datetime_from_float_column()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.datetime_utils.datetime_from_ymd_cols"><code class="docutils literal notranslate"><span class="pre">datetime_from_ymd_cols()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.datetime_utils.from_file_start_end_datetime_GPOD"><code class="docutils literal notranslate"><span class="pre">from_file_start_end_datetime_GPOD()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.datetime_utils.from_file_start_end_datetime_SARAL"><code class="docutils literal notranslate"><span class="pre">from_file_start_end_datetime_SARAL()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-GPSat.decorators">GPSat.decorators module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.decorators.timer"><code class="docutils literal notranslate"><span class="pre">timer()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-GPSat.local_experts">GPSat.local_experts module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.local_experts.LocalExpertData"><code class="docutils literal notranslate"><span class="pre">LocalExpertData</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.local_experts.LocalExpertData.col_funcs"><code class="docutils literal notranslate"><span class="pre">LocalExpertData.col_funcs</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.local_experts.LocalExpertData.col_select"><code class="docutils literal notranslate"><span class="pre">LocalExpertData.col_select</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.local_experts.LocalExpertData.coords_col"><code class="docutils literal notranslate"><span class="pre">LocalExpertData.coords_col</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.local_experts.LocalExpertData.data_source"><code class="docutils literal notranslate"><span class="pre">LocalExpertData.data_source</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.local_experts.LocalExpertData.engine"><code class="docutils literal notranslate"><span class="pre">LocalExpertData.engine</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.local_experts.LocalExpertData.file_suffix_engine_map"><code class="docutils literal notranslate"><span class="pre">LocalExpertData.file_suffix_engine_map</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.local_experts.LocalExpertData.global_select"><code class="docutils literal notranslate"><span class="pre">LocalExpertData.global_select</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.local_experts.LocalExpertData.load"><code class="docutils literal notranslate"><span class="pre">LocalExpertData.load()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.local_experts.LocalExpertData.local_select"><code class="docutils literal notranslate"><span class="pre">LocalExpertData.local_select</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.local_experts.LocalExpertData.obs_col"><code class="docutils literal notranslate"><span class="pre">LocalExpertData.obs_col</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.local_experts.LocalExpertData.read_kwargs"><code class="docutils literal notranslate"><span class="pre">LocalExpertData.read_kwargs</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.local_experts.LocalExpertData.row_select"><code class="docutils literal notranslate"><span class="pre">LocalExpertData.row_select</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.local_experts.LocalExpertData.set_data_source"><code class="docutils literal notranslate"><span class="pre">LocalExpertData.set_data_source()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.local_experts.LocalExpertData.table"><code class="docutils literal notranslate"><span class="pre">LocalExpertData.table</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.local_experts.LocalExpertData.where"><code class="docutils literal notranslate"><span class="pre">LocalExpertData.where</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.local_experts.LocalExpertOI"><code class="docutils literal notranslate"><span class="pre">LocalExpertOI</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.local_experts.LocalExpertOI.dict_of_array_to_table"><code class="docutils literal notranslate"><span class="pre">LocalExpertOI.dict_of_array_to_table()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.local_experts.LocalExpertOI.file_suffix_engine_map"><code class="docutils literal notranslate"><span class="pre">LocalExpertOI.file_suffix_engine_map</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.local_experts.LocalExpertOI.load_params"><code class="docutils literal notranslate"><span class="pre">LocalExpertOI.load_params()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.local_experts.LocalExpertOI.plot_locations_and_obs"><code class="docutils literal notranslate"><span class="pre">LocalExpertOI.plot_locations_and_obs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.local_experts.LocalExpertOI.run"><code class="docutils literal notranslate"><span class="pre">LocalExpertOI.run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.local_experts.LocalExpertOI.set_data"><code class="docutils literal notranslate"><span class="pre">LocalExpertOI.set_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.local_experts.LocalExpertOI.set_expert_locations"><code class="docutils literal notranslate"><span class="pre">LocalExpertOI.set_expert_locations()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.local_experts.LocalExpertOI.set_model"><code class="docutils literal notranslate"><span class="pre">LocalExpertOI.set_model()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.local_experts.LocalExpertOI.set_pred_loc"><code class="docutils literal notranslate"><span class="pre">LocalExpertOI.set_pred_loc()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.local_experts.get_results_from_h5file"><code class="docutils literal notranslate"><span class="pre">get_results_from_h5file()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-GPSat.plot_utils">GPSat.plot_utils module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.plot_utils.get_projection"><code class="docutils literal notranslate"><span class="pre">get_projection()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.plot_utils.plot_gpflow_minimal_example"><code class="docutils literal notranslate"><span class="pre">plot_gpflow_minimal_example()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.plot_utils.plot_hist"><code class="docutils literal notranslate"><span class="pre">plot_hist()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.plot_utils.plot_hist_from_results_data"><code class="docutils literal notranslate"><span class="pre">plot_hist_from_results_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.plot_utils.plot_hyper_parameters"><code class="docutils literal notranslate"><span class="pre">plot_hyper_parameters()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.plot_utils.plot_pcolormesh"><code class="docutils literal notranslate"><span class="pre">plot_pcolormesh()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.plot_utils.plot_pcolormesh_from_results_data"><code class="docutils literal notranslate"><span class="pre">plot_pcolormesh_from_results_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.plot_utils.plot_wrapper"><code class="docutils literal notranslate"><span class="pre">plot_wrapper()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.plot_utils.plot_xy"><code class="docutils literal notranslate"><span class="pre">plot_xy()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.plot_utils.plot_xy_from_results_data"><code class="docutils literal notranslate"><span class="pre">plot_xy_from_results_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.plot_utils.plots_from_config"><code class="docutils literal notranslate"><span class="pre">plots_from_config()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-GPSat.postprocessing">GPSat.postprocessing module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.postprocessing.SmoothingConfig"><code class="docutils literal notranslate"><span class="pre">SmoothingConfig</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.postprocessing.SmoothingConfig.get"><code class="docutils literal notranslate"><span class="pre">SmoothingConfig.get()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.postprocessing.SmoothingConfig.l_x"><code class="docutils literal notranslate"><span class="pre">SmoothingConfig.l_x</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.postprocessing.SmoothingConfig.l_y"><code class="docutils literal notranslate"><span class="pre">SmoothingConfig.l_y</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.postprocessing.SmoothingConfig.max"><code class="docutils literal notranslate"><span class="pre">SmoothingConfig.max</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.postprocessing.SmoothingConfig.min"><code class="docutils literal notranslate"><span class="pre">SmoothingConfig.min</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.postprocessing.get_smooth_params_config"><code class="docutils literal notranslate"><span class="pre">get_smooth_params_config()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.postprocessing.glue_local_predictions"><code class="docutils literal notranslate"><span class="pre">glue_local_predictions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.postprocessing.glue_local_predictions_1d"><code class="docutils literal notranslate"><span class="pre">glue_local_predictions_1d()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.postprocessing.glue_local_predictions_2d"><code class="docutils literal notranslate"><span class="pre">glue_local_predictions_2d()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.postprocessing.smooth_hyperparameters"><code class="docutils literal notranslate"><span class="pre">smooth_hyperparameters()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-GPSat.prediction_locations">GPSat.prediction_locations module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.prediction_locations.PredictionLocations"><code class="docutils literal notranslate"><span class="pre">PredictionLocations</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.prediction_locations.PredictionLocations.coords_col"><code class="docutils literal notranslate"><span class="pre">PredictionLocations.coords_col</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.prediction_locations.PredictionLocations.expert_loc"><code class="docutils literal notranslate"><span class="pre">PredictionLocations.expert_loc</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-GPSat.read_and_store">GPSat.read_and_store module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.read_and_store.get_dirs_to_search"><code class="docutils literal notranslate"><span class="pre">get_dirs_to_search()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.read_and_store.update_attr"><code class="docutils literal notranslate"><span class="pre">update_attr()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-GPSat.utils">GPSat.utils module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.EASE2toWGS84"><code class="docutils literal notranslate"><span class="pre">EASE2toWGS84()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.EASE2toWGS84_New"><code class="docutils literal notranslate"><span class="pre">EASE2toWGS84_New()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.WGS84toEASE2"><code class="docutils literal notranslate"><span class="pre">WGS84toEASE2()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.WGS84toEASE2_New"><code class="docutils literal notranslate"><span class="pre">WGS84toEASE2_New()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.array_to_dataframe"><code class="docutils literal notranslate"><span class="pre">array_to_dataframe()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.assign_category_col"><code class="docutils literal notranslate"><span class="pre">assign_category_col()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.bin_obs_by_date"><code class="docutils literal notranslate"><span class="pre">bin_obs_by_date()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.check_prev_oi_config"><code class="docutils literal notranslate"><span class="pre">check_prev_oi_config()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.compare_dataframes"><code class="docutils literal notranslate"><span class="pre">compare_dataframes()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.config_func"><code class="docutils literal notranslate"><span class="pre">config_func()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.convert_lon_lat_str"><code class="docutils literal notranslate"><span class="pre">convert_lon_lat_str()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.cprint"><code class="docutils literal notranslate"><span class="pre">cprint()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.dataframe_to_2d_array"><code class="docutils literal notranslate"><span class="pre">dataframe_to_2d_array()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.dataframe_to_array"><code class="docutils literal notranslate"><span class="pre">dataframe_to_array()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.dict_of_array_to_dict_of_dataframe"><code class="docutils literal notranslate"><span class="pre">dict_of_array_to_dict_of_dataframe()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.diff_distance"><code class="docutils literal notranslate"><span class="pre">diff_distance()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.expand_dict_by_vals"><code class="docutils literal notranslate"><span class="pre">expand_dict_by_vals()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.get_col_values"><code class="docutils literal notranslate"><span class="pre">get_col_values()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.get_config_from_sysargv"><code class="docutils literal notranslate"><span class="pre">get_config_from_sysargv()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.get_git_information"><code class="docutils literal notranslate"><span class="pre">get_git_information()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.get_previous_oi_config"><code class="docutils literal notranslate"><span class="pre">get_previous_oi_config()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.get_weighted_values"><code class="docutils literal notranslate"><span class="pre">get_weighted_values()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.glue_local_predictions"><code class="docutils literal notranslate"><span class="pre">glue_local_predictions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.grid_2d_flatten"><code class="docutils literal notranslate"><span class="pre">grid_2d_flatten()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.guess_track_num"><code class="docutils literal notranslate"><span class="pre">guess_track_num()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.inverse_sigmoid"><code class="docutils literal notranslate"><span class="pre">inverse_sigmoid()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.inverse_softplus"><code class="docutils literal notranslate"><span class="pre">inverse_softplus()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.json_load"><code class="docutils literal notranslate"><span class="pre">json_load()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.json_serializable"><code class="docutils literal notranslate"><span class="pre">json_serializable()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.log_lines"><code class="docutils literal notranslate"><span class="pre">log_lines()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.match"><code class="docutils literal notranslate"><span class="pre">match()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.move_to_archive"><code class="docutils literal notranslate"><span class="pre">move_to_archive()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.nested_dict_literal_eval"><code class="docutils literal notranslate"><span class="pre">nested_dict_literal_eval()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.nll"><code class="docutils literal notranslate"><span class="pre">nll()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.not_nan"><code class="docutils literal notranslate"><span class="pre">not_nan()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.pandas_to_dict"><code class="docutils literal notranslate"><span class="pre">pandas_to_dict()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.pip_freeze_to_dataframe"><code class="docutils literal notranslate"><span class="pre">pip_freeze_to_dataframe()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.pretty_print_class"><code class="docutils literal notranslate"><span class="pre">pretty_print_class()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.rmse"><code class="docutils literal notranslate"><span class="pre">rmse()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.sigmoid"><code class="docutils literal notranslate"><span class="pre">sigmoid()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.softplus"><code class="docutils literal notranslate"><span class="pre">softplus()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.sparse_true_array"><code class="docutils literal notranslate"><span class="pre">sparse_true_array()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.stats_on_vals"><code class="docutils literal notranslate"><span class="pre">stats_on_vals()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.to_array"><code class="docutils literal notranslate"><span class="pre">to_array()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.utils.track_num_for_date"><code class="docutils literal notranslate"><span class="pre">track_num_for_date()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-GPSat.vff">GPSat.vff module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.vff.BlockDiagMat"><code class="docutils literal notranslate"><span class="pre">BlockDiagMat</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.BlockDiagMat.get"><code class="docutils literal notranslate"><span class="pre">BlockDiagMat.get()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.BlockDiagMat.get_diag"><code class="docutils literal notranslate"><span class="pre">BlockDiagMat.get_diag()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.BlockDiagMat.inv"><code class="docutils literal notranslate"><span class="pre">BlockDiagMat.inv()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.BlockDiagMat.inv_diag"><code class="docutils literal notranslate"><span class="pre">BlockDiagMat.inv_diag()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.BlockDiagMat.logdet"><code class="docutils literal notranslate"><span class="pre">BlockDiagMat.logdet()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.BlockDiagMat.matmul"><code class="docutils literal notranslate"><span class="pre">BlockDiagMat.matmul()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.BlockDiagMat.matmul_sqrt"><code class="docutils literal notranslate"><span class="pre">BlockDiagMat.matmul_sqrt()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.BlockDiagMat.matmul_sqrt_transpose"><code class="docutils literal notranslate"><span class="pre">BlockDiagMat.matmul_sqrt_transpose()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.BlockDiagMat.shape"><code class="docutils literal notranslate"><span class="pre">BlockDiagMat.shape</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.BlockDiagMat.solve"><code class="docutils literal notranslate"><span class="pre">BlockDiagMat.solve()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.BlockDiagMat.sqrt_dims"><code class="docutils literal notranslate"><span class="pre">BlockDiagMat.sqrt_dims</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.BlockDiagMat.trace_KiX"><code class="docutils literal notranslate"><span class="pre">BlockDiagMat.trace_KiX()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.vff.DiagMat"><code class="docutils literal notranslate"><span class="pre">DiagMat</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.DiagMat.get"><code class="docutils literal notranslate"><span class="pre">DiagMat.get()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.DiagMat.get_diag"><code class="docutils literal notranslate"><span class="pre">DiagMat.get_diag()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.DiagMat.inv"><code class="docutils literal notranslate"><span class="pre">DiagMat.inv()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.DiagMat.inv_diag"><code class="docutils literal notranslate"><span class="pre">DiagMat.inv_diag()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.DiagMat.logdet"><code class="docutils literal notranslate"><span class="pre">DiagMat.logdet()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.DiagMat.matmul"><code class="docutils literal notranslate"><span class="pre">DiagMat.matmul()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.DiagMat.matmul_sqrt"><code class="docutils literal notranslate"><span class="pre">DiagMat.matmul_sqrt()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.DiagMat.matmul_sqrt_transpose"><code class="docutils literal notranslate"><span class="pre">DiagMat.matmul_sqrt_transpose()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.DiagMat.shape"><code class="docutils literal notranslate"><span class="pre">DiagMat.shape</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.DiagMat.solve"><code class="docutils literal notranslate"><span class="pre">DiagMat.solve()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.DiagMat.sqrt_dims"><code class="docutils literal notranslate"><span class="pre">DiagMat.sqrt_dims</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.DiagMat.trace_KiX"><code class="docutils literal notranslate"><span class="pre">DiagMat.trace_KiX()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.vff.GPR_kron"><code class="docutils literal notranslate"><span class="pre">GPR_kron</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.GPR_kron.elbo"><code class="docutils literal notranslate"><span class="pre">GPR_kron.elbo()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.GPR_kron.maximum_log_likelihood_objective"><code class="docutils literal notranslate"><span class="pre">GPR_kron.maximum_log_likelihood_objective()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.GPR_kron.predict_f"><code class="docutils literal notranslate"><span class="pre">GPR_kron.predict_f()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.vff.LowRankMat"><code class="docutils literal notranslate"><span class="pre">LowRankMat</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.LowRankMat.get"><code class="docutils literal notranslate"><span class="pre">LowRankMat.get()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.LowRankMat.get_diag"><code class="docutils literal notranslate"><span class="pre">LowRankMat.get_diag()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.LowRankMat.inv"><code class="docutils literal notranslate"><span class="pre">LowRankMat.inv()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.LowRankMat.inv_diag"><code class="docutils literal notranslate"><span class="pre">LowRankMat.inv_diag()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.LowRankMat.logdet"><code class="docutils literal notranslate"><span class="pre">LowRankMat.logdet()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.LowRankMat.matmul"><code class="docutils literal notranslate"><span class="pre">LowRankMat.matmul()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.LowRankMat.matmul_sqrt"><code class="docutils literal notranslate"><span class="pre">LowRankMat.matmul_sqrt()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.LowRankMat.matmul_sqrt_transpose"><code class="docutils literal notranslate"><span class="pre">LowRankMat.matmul_sqrt_transpose()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.LowRankMat.shape"><code class="docutils literal notranslate"><span class="pre">LowRankMat.shape</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.LowRankMat.solve"><code class="docutils literal notranslate"><span class="pre">LowRankMat.solve()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.LowRankMat.sqrt_dims"><code class="docutils literal notranslate"><span class="pre">LowRankMat.sqrt_dims</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.LowRankMat.trace_KiX"><code class="docutils literal notranslate"><span class="pre">LowRankMat.trace_KiX()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.vff.LowRankMatNeg"><code class="docutils literal notranslate"><span class="pre">LowRankMatNeg</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.LowRankMatNeg.get"><code class="docutils literal notranslate"><span class="pre">LowRankMatNeg.get()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.LowRankMatNeg.shape"><code class="docutils literal notranslate"><span class="pre">LowRankMatNeg.shape</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.vff.Rank1Mat"><code class="docutils literal notranslate"><span class="pre">Rank1Mat</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.Rank1Mat.get"><code class="docutils literal notranslate"><span class="pre">Rank1Mat.get()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.Rank1Mat.get_diag"><code class="docutils literal notranslate"><span class="pre">Rank1Mat.get_diag()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.Rank1Mat.inv"><code class="docutils literal notranslate"><span class="pre">Rank1Mat.inv()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.Rank1Mat.inv_diag"><code class="docutils literal notranslate"><span class="pre">Rank1Mat.inv_diag()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.Rank1Mat.logdet"><code class="docutils literal notranslate"><span class="pre">Rank1Mat.logdet()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.Rank1Mat.matmul"><code class="docutils literal notranslate"><span class="pre">Rank1Mat.matmul()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.Rank1Mat.matmul_sqrt"><code class="docutils literal notranslate"><span class="pre">Rank1Mat.matmul_sqrt()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.Rank1Mat.matmul_sqrt_transpose"><code class="docutils literal notranslate"><span class="pre">Rank1Mat.matmul_sqrt_transpose()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.Rank1Mat.shape"><code class="docutils literal notranslate"><span class="pre">Rank1Mat.shape</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.Rank1Mat.solve"><code class="docutils literal notranslate"><span class="pre">Rank1Mat.solve()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.Rank1Mat.sqrt_dims"><code class="docutils literal notranslate"><span class="pre">Rank1Mat.sqrt_dims</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.Rank1Mat.trace_KiX"><code class="docutils literal notranslate"><span class="pre">Rank1Mat.trace_KiX()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.vff.Rank1MatNeg"><code class="docutils literal notranslate"><span class="pre">Rank1MatNeg</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.Rank1MatNeg.get"><code class="docutils literal notranslate"><span class="pre">Rank1MatNeg.get()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GPSat.vff.Rank1MatNeg.shape"><code class="docutils literal notranslate"><span class="pre">Rank1MatNeg.shape</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.vff.kron"><code class="docutils literal notranslate"><span class="pre">kron()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.vff.kron_two"><code class="docutils literal notranslate"><span class="pre">kron_two()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.vff.make_Kuf"><code class="docutils literal notranslate"><span class="pre">make_Kuf()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.vff.make_Kuf_np"><code class="docutils literal notranslate"><span class="pre">make_Kuf_np()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.vff.make_Kuu"><code class="docutils literal notranslate"><span class="pre">make_Kuu()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.vff.make_kvs"><code class="docutils literal notranslate"><span class="pre">make_kvs()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.vff.make_kvs_np"><code class="docutils literal notranslate"><span class="pre">make_kvs_np()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.vff.make_kvs_two"><code class="docutils literal notranslate"><span class="pre">make_kvs_two()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.vff.make_kvs_two_np"><code class="docutils literal notranslate"><span class="pre">make_kvs_two_np()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-GPSat">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.get_config_path"><code class="docutils literal notranslate"><span class="pre">get_config_path()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.get_data_path"><code class="docutils literal notranslate"><span class="pre">get_data_path()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.get_parent_path"><code class="docutils literal notranslate"><span class="pre">get_parent_path()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GPSat.get_path"><code class="docutils literal notranslate"><span class="pre">get_path()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GPSat</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">GPSat package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/GPSat.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="gpsat-package">
<h1>GPSat package<a class="headerlink" href="#gpsat-package" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-GPSat.bin_data">
<span id="gpsat-bin-data-module"></span><h2>GPSat.bin_data module<a class="headerlink" href="#module-GPSat.bin_data" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="GPSat.bin_data.BinData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GPSat.bin_data.</span></span><span class="sig-name descname"><span class="pre">BinData</span></span><a class="headerlink" href="#GPSat.bin_data.BinData" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="GPSat.bin_data.BinData.bin_data">
<span class="sig-name descname"><span class="pre">bin_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_output_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5000000</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">data_load_kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.bin_data.BinData.bin_data" title="Link to this definition"></a></dt>
<dd><p>Bins the dataset, either in a single pass or in batches, based on the provided configuration.</p>
<p>This method decides between processing the entire dataset at once or in chunks based on the <cite>batch</cite>
parameter. It applies binning according to the specified <cite>bin_config</cite>, along with any preprocessing
defined by <cite>col_funcs</cite>, <cite>col_select</cite>, and <cite>row_select</cite>. Additional columns can be added to the
output dataset using <cite>add_output_cols</cite>. The method is capable of handling both small and very
large datasets efficiently.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>file</strong><span class="classifier">str, optional</span></dt><dd><p>Path to the source file containing the dataset if <cite>source</cite> is not specified. Defaults to None.</p>
</dd>
<dt><strong>source</strong><span class="classifier">str, optional</span></dt><dd><p>An alternative specification of the data source. This could be a path to a file or another
identifier depending on the context. If both <cite>file</cite> and <cite>source</cite> are provided, <cite>source</cite> takes precedence.
Defaults to None.</p>
</dd>
<dt><strong>load_by</strong><span class="classifier">list of str, optional</span></dt><dd><p>List of column names based on which data will be loaded and binned in batches if <cite>batch</cite> is True.
Each unique combination of values in these columns defines a batch. Defaults to None.</p>
</dd>
<dt><strong>table</strong><span class="classifier">str, optional</span></dt><dd><p>The name of the table within the data source from which to load the data. Defaults to None.</p>
</dd>
<dt><strong>where</strong><span class="classifier">list of dict, optional</span></dt><dd><p>Conditions for filtering rows from the source, expressed as a list of dictionaries
representing SQL-like where clauses. Defaults to None.</p>
</dd>
<dt><strong>batch</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, the data is processed in chunks based on <cite>load_by</cite> columns. If False, the entire
dataset is processed at once. Defaults to False.</p>
</dd>
<dt><strong>add_output_cols</strong><span class="classifier">dict, optional</span></dt><dd><p>Dictionary mapping new column names to functions that define their values, for adding
columns to the output DataFrame after binning. Defaults to None.</p>
</dd>
<dt><strong>bin_config</strong><span class="classifier">dict</span></dt><dd><p>Configuration for the binning process, including parameters such as bin sizes, binning
method, and criteria for binning. This parameter is required.</p>
</dd>
<dt><strong>chunksize</strong><span class="classifier">int, optional</span></dt><dd><p>The number of rows to read into memory and process at a time, applicable when <cite>batch</cite> is True.
Defaults to 5,000,000.</p>
</dd>
<dt><strong>**data_load_kwargs</strong><span class="classifier">dict, optional</span></dt><dd><p>Additional keyword arguments to be passed into DataLoader.load
see <a class="reference internal" href="dataloader.html#GPSat.dataloader.DataLoader.load" title="GPSat.dataloader.DataLoader.load"><code class="xref py py-func docutils literal notranslate"><span class="pre">load</span></code></a></p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>df_bin</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>A DataFrame containing the binned data.</p>
</dd>
<dt><strong>stats</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>A DataFrame containing statistics of the binned data, useful for analyzing the distribution
and quality of the binned data.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If <cite>bin_config</cite> is not provided or is not a dictionary.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The <cite>bin_data</cite> method offers flexibility in processing datasets of various sizes by allowing
for both batch processing and single-pass processing. The choice between these modes is controlled
by the <cite>batch</cite> parameter, making it suitable for scenarios ranging from small datasets that fit
easily into memory to very large datasets requiring chunked processing to manage memory usage effectively.</p>
<p>The additional parameters for row and column selection and the ability to add new columns after
binning allow for significant customization of the binning process, enabling users to tailor the
method to their specific data processing and analysis needs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.bin_data.BinData.bin_data_all_at_once">
<span class="sig-name descname"><span class="pre">bin_data_all_at_once</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_output_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">data_load_kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.bin_data.BinData.bin_data_all_at_once" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>Reads the entire dataset, applies binning, and returns binned data along with statistics.</p>
<p>This method handles the entire binning process in a single pass, making it suitable for
datasets that can fit into memory. It allows for preprocessing of data through column
functions, selection of specific rows and columns, and the addition of output columns
after binning based on provided configurations.</p>
</div></blockquote>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>file</strong><span class="classifier">str, optional</span></dt><dd><blockquote>
<div><p>Path to the source file containing the dataset if <cite>source</cite> is not specified. Defaults to None.</p>
</div></blockquote>
<dl class="simple">
<dt>source<span class="classifier">str, optional</span></dt><dd><p>An alternative specification of the data source. This could be a path to a file or another
identifier depending on the context. If both <cite>file</cite> and <cite>source</cite> are provided, <cite>source</cite> takes precedence.
Defaults to None.</p>
</dd>
<dt>table<span class="classifier">str, optional</span></dt><dd><p>The name of the table within the data source to apply binning. Defaults to None.</p>
</dd>
<dt>where<span class="classifier">list of dict, optional</span></dt><dd><p>Conditions for filtering rows before binning, expressed as a list of dictionaries
representing SQL-like where clauses. Defaults to None.</p>
</dd>
</dl>
</dd>
<dt><strong>add_output_cols</strong><span class="classifier">dict, optional</span></dt><dd><blockquote>
<div><p>Dictionary mapping new column names to functions that define their values, for adding
columns to the output DataFrame after binning. Defaults to None.</p>
</div></blockquote>
<dl class="simple">
<dt>bin_config<span class="classifier">dict</span></dt><dd><p>Configuration for the binning process, including parameters such as bin sizes, binning
method, and criteria for binning. This parameter is required.</p>
</dd>
<dt><a href="#id1"><span class="problematic" id="id2">**</span></a>data_load_kwargs<span class="classifier">dict, optional</span></dt><dd><p>Additional keyword arguments to be passed into DataLoader.load
see <a class="reference internal" href="dataloader.html#GPSat.dataloader.DataLoader.load" title="GPSat.dataloader.DataLoader.load"><code class="xref py py-func docutils literal notranslate"><span class="pre">load</span></code></a></p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>df_bin</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>A DataFrame containing the binned data.</p>
</dd>
<dt><strong>stats_df</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>A DataFrame containing statistics of the binned data, useful for analyzing the distribution
and quality of the binned data.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If <cite>bin_config</cite> is not provided or is not a dictionary.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method is designed to handle datasets that can be loaded entirely into memory.
For very large datasets, consider using the <cite>bin_data_by_batch</cite> method to process
the data in chunks and avoid memory issues.</p>
<p>The <cite>add_output_cols</cite> parameter allows for the dynamic addition of columns to the
binned dataset based on custom logic, which can be useful for enriching the dataset
with additional metrics or categorizations derived from the binned data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.bin_data.BinData.bin_data_by_batch">
<span class="sig-name descname"><span class="pre">bin_data_by_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_output_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5000000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">data_load_kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.bin_data.BinData.bin_data_by_batch" title="Link to this definition"></a></dt>
<dd><p>Bins the data in chunks based on unique values of specified columns and returns the aggregated binned data and statistics.</p>
<p>This method is particularly useful for very large datasets that cannot fit into memory. It reads
the data in batches, applies binning to each batch based on the unique values of the specified
<cite>load_by</cite> columns, and aggregates the results. This approach helps manage memory usage while
allowing for comprehensive data analysis and binning.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>file</strong><span class="classifier">str, optional</span></dt><dd><p>Path to the source file containing the dataset if <cite>source</cite> is not specified. Defaults to None.</p>
</dd>
<dt><strong>source</strong><span class="classifier">str, optional</span></dt><dd><p>An alternative specification of the data source. This could be a path to a file or another
identifier depending on the context. If both <cite>file</cite> and <cite>source</cite> are provided, <cite>source</cite> takes precedence.
Defaults to None.</p>
</dd>
<dt><strong>load_by</strong><span class="classifier">list of str</span></dt><dd><p>List of column names based on which data will be loaded and binned in batches. Each unique
combination of values in these columns defines a batch.</p>
</dd>
<dt><strong>table</strong><span class="classifier">str, optional</span></dt><dd><p>The name of the table within the data source from which to load the data. Defaults to None.</p>
</dd>
<dt><strong>where</strong><span class="classifier">list of dict, optional</span></dt><dd><p>Conditions for filtering rows from the source, expressed as a list of dictionaries
representing SQL-like where clauses. Defaults to None.</p>
</dd>
<dt><strong>add_output_cols</strong><span class="classifier">dict, optional</span></dt><dd><p>Dictionary mapping new column names to functions that define their values, for adding
columns to the output DataFrame after binning. Defaults to None.</p>
</dd>
<dt><strong>chunksize</strong><span class="classifier">int, optional</span></dt><dd><p>The number of rows to read into memory and process at a time. Defaults to 5,000,000.</p>
</dd>
<dt><strong>bin_config</strong><span class="classifier">dict</span></dt><dd><p>Configuration for the binning process, including parameters such as bin sizes, binning
method, and criteria for binning. This parameter is required.</p>
</dd>
<dt><strong>**data_load_kwargs</strong><span class="classifier">dict, optional</span></dt><dd><p>Additional keyword arguments to be passed into DataLoader.load
see <a class="reference internal" href="dataloader.html#GPSat.dataloader.DataLoader.load" title="GPSat.dataloader.DataLoader.load"><code class="xref py py-func docutils literal notranslate"><span class="pre">load</span></code></a></p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>df_bin</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>A DataFrame containing the aggregated binned data from all batches.</p>
</dd>
<dt><strong>stats_all</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>A DataFrame containing aggregated statistics of the binned data from all batches,
useful for analyzing the distribution and quality of the binned data.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If <cite>bin_config</cite> is not provided or is not a dictionary.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The <cite>bin_data_by_batch</cite> method is designed to handle large datasets by processing them in
manageable chunks. It requires specifying <cite>load_by</cite> columns to define how the dataset is
divided into batches for individual binning operations. This method ensures efficient memory
usage while allowing for complex data binning and analysis tasks on large datasets.</p>
<p>The <cite>add_output_cols</cite> parameter enables the dynamic addition of columns to the output dataset
based on custom logic applied after binning, which can be used to enrich the dataset with
additional insights or metrics derived from the binned data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.bin_data.BinData.bin_wrapper">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bin_wrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_funcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_stats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">bin_config</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.bin_data.BinData.bin_wrapper" title="Link to this definition"></a></dt>
<dd><p>Perform binning on a DataFrame with optional statistics printing and column modifications.</p>
<p>This function wraps the binning process, allowing for optional statistics on the data before
binning, dynamic column additions or modifications, and the application of various binning configurations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>The DataFrame to be binned.</p>
</dd>
<dt><strong>col_funcs</strong><span class="classifier">dict, optional</span></dt><dd><p>A dictionary where keys are column names to add or modify, and values are functions that
take a pandas Series and return a modified Series. This allows for the dynamic addition
or modification of columns before binning. Defaults to None.</p>
</dd>
<dt><strong>print_stats</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, prints basic statistics of the DataFrame before binning. Useful for a preliminary
examination of the data. Defaults to True.</p>
</dd>
<dt><strong>**bin_config</strong><span class="classifier">dict</span></dt><dd><p>Arbitrary keyword arguments defining the binning configuration. These configurations
dictate how binning is performed and include parameters such as bin sizes, binning method,
criteria for binning, etc.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>ds_bin</strong><span class="classifier">xarray.Dataset</span></dt><dd><p>The binned data as an xarray Dataset. Contains the result of binning the input DataFrame
according to the specified configurations.</p>
</dd>
<dt><strong>stats_df</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>A DataFrame containing statistics of the input DataFrame after any column additions or
modifications and before binning. Provides insights into the data distribution and can
inform decisions on binning parameters or data preprocessing.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The actual structure and contents of the <cite>ds_bin</cite> xarray Dataset will depend on the binning
configurations specified in <cite>**bin_config</cite>. Similarly, the <cite>stats_df</cite> DataFrame provides a
summary of the data’s distribution based on the column specified in the binning configuration
and can vary widely in its specifics.</p>
<p>The binning process may be adjusted significantly through the <cite>**bin_config</cite> parameters,
allowing for a wide range of binning behaviors and outcomes. For detailed configuration
options, refer to the documentation of the specific binning functions used within this
wrapper.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.bin_data.BinData.write_dataframe_to_table">
<span class="sig-name descname"><span class="pre">write_dataframe_to_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_bin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.bin_data.BinData.write_dataframe_to_table" title="Link to this definition"></a></dt>
<dd><p>Writes the binned DataFrame to a specified table in an HDF5 file.</p>
<p>This method saves the binned data, represented by a DataFrame, into a table within an HDF5 file.
The method assumes that the HDF5 file is accessible and writable. It allows for the efficient
storage of large datasets and facilitates easy retrieval for further analysis or processing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df_bin</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>The DataFrame containing the binned data to be written to the file. This DataFrame should
already be processed and contain the final form of the data to be saved.</p>
</dd>
<dt><strong>file</strong><span class="classifier">str</span></dt><dd><p>The path to the HDF5 file where the DataFrame will be written. If the file does not exist,
it will be created. If the file exists, the method will write the DataFrame to the specified
table within the file.</p>
</dd>
<dt><strong>table</strong><span class="classifier">str</span></dt><dd><p>The name of the table within the HDF5 file where the DataFrame will be stored. If the table
already exists, the new data will be appended to it.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>AssertionError</dt><dd><p>If either <cite>file</cite> or <cite>table</cite> is not specified.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The HDF5 file format is a versatile data storage format that can efficiently store large datasets.
It is particularly useful in contexts where data needs to be retrieved for analysis, as it supports
complex queries and data slicing. This method leverages the pandas HDFStore mechanism for storing
DataFrames, which abstracts away many of the complexities of working directly with HDF5 files.</p>
<p>This method also includes the <cite>raw_data_config</cite>, <cite>config</cite> (the binning configuration), and <cite>run_info</cite>
as attributes of the stored table, providing a comprehensive audit trail of how the binned data was
generated. This can be crucial for reproducibility and understanding the context of the stored data.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.bin_data.get_bin_data_config">
<span class="sig-prename descclassname"><span class="pre">GPSat.bin_data.</span></span><span class="sig-name descname"><span class="pre">get_bin_data_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.bin_data.get_bin_data_config" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.bin_data.plot_wrapper">
<span class="sig-prename descclassname"><span class="pre">GPSat.bin_data.</span></span><span class="sig-name descname"><span class="pre">plot_wrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plt_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lon'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lat'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'date'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scatter_plot_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plt_where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">projection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.bin_data.plot_wrapper" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-GPSat.dataloader">
<span id="gpsat-dataloader-module"></span><h2>GPSat.dataloader module<a class="headerlink" href="#module-GPSat.dataloader" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GPSat.dataloader.</span></span><span class="sig-name descname"><span class="pre">DataLoader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hdf_store</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.add_cols">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_cols</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_func_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.add_cols" title="Link to this definition"></a></dt>
<dd><p>Adds new columns to a given DataFrame based on the provided dictionary of column-function pairs.</p>
<p>This function allows the user to add new columns to a DataFrame using a dictionary
that maps new column names to functions that compute the column values. The functions
can be provided as values in the dictionary, and the new columns can be added to the
DataFrame in a single call to this function.</p>
<p>If a tuple is provided as a key in the dictionary, it is assumed that the corresponding
function will return multiple columns. The length of the returned columns should match
the length of the tuple.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>The input DataFrame to which new columns will be added.</p>
</dd>
<dt><strong>col_func_dict</strong><span class="classifier">dict, optional</span></dt><dd><p>A dictionary that maps new column names (keys) to functions (values) that compute
the column values. If a tuple is provided as a key, it is assumed that the corresponding
function will return multiple columns. The length of the returned columns should match
the length of the tuple. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, an empty dictionary will be used. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt><strong>filename</strong><span class="classifier">str, optional</span></dt><dd><p>The name of the file from which the DataFrame was read. This parameter will be passed
to the functions provided in the <code class="docutils literal notranslate"><span class="pre">col_func_dict</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">int or bool, optional</span></dt><dd><p>Determines the level of verbosity of the function. If verbose is <code class="docutils literal notranslate"><span class="pre">3</span></code> or higher, the function
will print messages about the columns being added. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>None</dt><dd></dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If the length of the new columns returned by the function does not match the length of
the tuple key in the col_func_dict.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>DataFrame is manipulated inplace.
If a single value is returned by the function, it will be assigned to a column with the name specified in the key.
See <code class="docutils literal notranslate"><span class="pre">help(utils.config_func)</span></code> for more details.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">GPSat.dataloader</span> <span class="kn">import</span> <span class="n">DataLoader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_one</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">DataLoader</span><span class="o">.</span><span class="n">add_cols</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">col_func_dict</span><span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">add_one</span><span class="p">,</span> <span class="s2">&quot;col_args&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">})</span>
<span class="go">   A  B  C</span>
<span class="go">0  1  4  2</span>
<span class="go">1  2  5  3</span>
<span class="go">2  3  6  4</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.add_data_to_col">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_data_to_col</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_data_to_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.add_data_to_col" title="Link to this definition"></a></dt>
<dd><p>Adds new data to an existing column or creates a new column with the provided data in a DataFrame.</p>
<p>This function takes a DataFrame and a dictionary with the column name as the key and the data to be
added as the value. It can handle scalar values or lists of values, and will replicate the DataFrame
rows for each value in the list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>The input DataFrame to which data will be added or updated.</p>
</dd>
<dt><strong>add_data_to_col</strong><span class="classifier">dict, optional</span></dt><dd><p>A dictionary with the column name (key) and data to be added (value). The data can be a scalar value
or a list of values. If a list of values is provided, the DataFrame rows will be replicated for each
value in the list. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, an empty dictionary will be used. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool, default False.</span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the function will print progress messages</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>df</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>The DataFrame with the updated or added columns.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If the <code class="docutils literal notranslate"><span class="pre">add_data_to_col</span></code> parameter is not a dictionary.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method adds data to a specified column in a pandas DataFrame repeatedly.
The method creates a copy of the DataFrame for each entry in the data to be added,
and concatenates them to create a new DataFrame with the added data.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">GPSat.dataloader</span> <span class="kn">import</span> <span class="n">DataLoader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;B&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">updated_df</span> <span class="o">=</span> <span class="n">DataLoader</span><span class="o">.</span><span class="n">add_data_to_col</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">add_data_to_col</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;C&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">updated_df</span><span class="p">)</span>
<span class="go">   A  B  C</span>
<span class="go">0  1  4  7</span>
<span class="go">1  2  5  7</span>
<span class="go">2  3  6  7</span>
<span class="go">0  1  4  8</span>
<span class="go">1  2  5  8</span>
<span class="go">2  3  6  8</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">DataLoader</span><span class="o">.</span><span class="n">add_data_to_col</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">add_data_to_col</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
<span class="go">12</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">DataLoader</span><span class="o">.</span><span class="n">add_data_to_col</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">add_data_to_col</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
<span class="go">48</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.bin_data">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bin_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_statistic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_bin_center</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.bin_data" title="Link to this definition"></a></dt>
<dd><p>Bins data from a given DataFrame into a 2D grid, applying the specified statistical function
to the data in each bin.</p>
<p>This function takes a DataFrame containing x, y, and value columns and bins the data into a 2D grid.
It returns the resulting grid, as well as the x and y bin edges or centers,
depending on the value of <code class="docutils literal notranslate"><span class="pre">return_bin_center</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>The input DataFrame containing the data to be binned.</p>
</dd>
<dt><strong>x_range</strong><span class="classifier">list or tuple of floats, optional</span></dt><dd><p>The range of x values, specified as <code class="docutils literal notranslate"><span class="pre">[min,</span> <span class="pre">max]</span></code>. If not provided, a default value of <code class="docutils literal notranslate"><span class="pre">[-4500000.0,</span> <span class="pre">4500000.0]</span></code>.
will be used.</p>
</dd>
<dt><strong>y_range</strong><span class="classifier">list or tuple of floats, optional</span></dt><dd><p>The range of y values, specified as <code class="docutils literal notranslate"><span class="pre">[min,</span> <span class="pre">max]</span></code>. If not provided, a default value of <code class="docutils literal notranslate"><span class="pre">[-4500000.0,</span> <span class="pre">4500000.0]</span></code>.
will be used.</p>
</dd>
<dt><strong>grid_res</strong><span class="classifier">float or None.</span></dt><dd><p>The grid resolution, expressed in kilometers. This parameter must be provided.</p>
</dd>
<dt><strong>x_col</strong><span class="classifier">str, default is “x”.</span></dt><dd><p>The name of the column in the DataFrame containing the x values.</p>
</dd>
<dt><strong>y_col</strong><span class="classifier">str, default is “y”.</span></dt><dd><p>The name of the column in the DataFrame containing the y values.</p>
</dd>
<dt><strong>val_col</strong><span class="classifier">str, optional</span></dt><dd><p>The name of the column in the DataFrame containing the values to be binned. This parameter must be provided.</p>
</dd>
<dt><strong>bin_statistic</strong><span class="classifier">str, default is “mean”.</span></dt><dd><p>The statistic to apply to the binned data. Options are <code class="docutils literal notranslate"><span class="pre">'mean'</span></code>, <code class="docutils literal notranslate"><span class="pre">'median'</span></code>, <code class="docutils literal notranslate"><span class="pre">'count'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'sum'</span></code>, <code class="docutils literal notranslate"><span class="pre">'min'</span></code>, <code class="docutils literal notranslate"><span class="pre">'max'</span></code>, or a custom callable function.</p>
</dd>
<dt><strong>return_bin_center</strong><span class="classifier">bool,  default is True.</span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the function will return the bin centers instead of the bin edges.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>binned_data</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>The binned data as a 2D grid.</p>
</dd>
<dt><strong>x_out</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>The x bin edges or centers, depending on the value of <code class="docutils literal notranslate"><span class="pre">return_bin_center</span></code>.</p>
</dd>
<dt><strong>y_out</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>The y bin edges or centers, depending on the value of <code class="docutils literal notranslate"><span class="pre">return_bin_center</span></code>.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.bin_data_by">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bin_data_by</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_statistic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.bin_data_by" title="Link to this definition"></a></dt>
<dd><p>Bins the input DataFrame <code class="docutils literal notranslate"><span class="pre">df</span></code> based on the given columns and computes the bin statistics for a specified value column.</p>
<p>This function takes a DataFrame, filters it based on the unique combinations of the <code class="docutils literal notranslate"><span class="pre">by_cols</span></code> column values, and
then bins the data in each filtered DataFrame based on the <code class="docutils literal notranslate"><span class="pre">x_col</span></code> and <code class="docutils literal notranslate"><span class="pre">y_col</span></code> column values. It computes the
bin statistic for the specified <code class="docutils literal notranslate"><span class="pre">val_col</span></code> and returns the result as an xarray DataArray. The output DataArray
has dimensions <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code>, and the given <code class="docutils literal notranslate"><span class="pre">by_cols</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>The input DataFrame to be binned.</p>
</dd>
<dt><strong>by_cols</strong><span class="classifier">str or list[str] or tuple[str]</span></dt><dd><p>The column(s) by which the input DataFrame should be filtered.
Unique combinations of these columns are used to create separate DataFrames for binning.</p>
</dd>
<dt><strong>val_col</strong><span class="classifier">str</span></dt><dd><p>The column in the input DataFrame for which the bin statistics should be computed.</p>
</dd>
<dt><strong>x_col</strong><span class="classifier">str, optional, default=’x’</span></dt><dd><p>The column in the input DataFrame to be used for binning along the x-axis.</p>
</dd>
<dt><strong>y_col</strong><span class="classifier">str, optional, default=’y’</span></dt><dd><p>The column in the input DataFrame to be used for binning along the y-axis.</p>
</dd>
<dt><strong>x_range</strong><span class="classifier">tuple, optional</span></dt><dd><p>The range of the x-axis values for binning. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the minimum and maximum x values are used.</p>
</dd>
<dt><strong>y_range</strong><span class="classifier">tuple, optional</span></dt><dd><p>The range of the y-axis values for binning. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the minimum and maximum y values are used.</p>
</dd>
<dt><strong>grid_res</strong><span class="classifier">float, optional</span></dt><dd><p>The resolution of the grid used for binning. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the resolution is calculated based on the input data.</p>
</dd>
<dt><strong>bin_statistic</strong><span class="classifier">str, optional, default=”mean”</span></dt><dd><p>The statistic to compute for each bin. Supported values are <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;median&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;min&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;max&quot;</span></code>, and <code class="docutils literal notranslate"><span class="pre">&quot;count&quot;</span></code>.</p>
</dd>
<dt><strong>limit</strong><span class="classifier">int, optional, default=10000</span></dt><dd><p>The maximum number of unique combinations of the <code class="docutils literal notranslate"><span class="pre">by_cols</span></code> column values allowed.
Raises an AssertionError if the number of unique combinations exceeds this limit.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">xarray.Dataset</span></dt><dd><p>The binned data as an xarray Dataset with dimensions <code class="docutils literal notranslate"><span class="pre">'y'</span></code>, <code class="docutils literal notranslate"><span class="pre">'x'</span></code>, and the given <code class="docutils literal notranslate"><span class="pre">by_cols</span></code>.
Raises</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>DeprecationWarning</dt><dd><p>If the deprecated method <code class="docutils literal notranslate"><span class="pre">DataLoader.bin_data_by(...)</span></code> is used instead of <code class="docutils literal notranslate"><span class="pre">DataPrep.bin_data_by(...)</span></code>.</p>
</dd>
<dt>AssertionError</dt><dd><p>If any of the input parameters do not meet the specified conditions.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.connect_to_hdf_store">
<span class="sig-name descname"><span class="pre">connect_to_hdf_store</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">store</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'r'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.connect_to_hdf_store" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.data_select">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data_select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combine_where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'AND'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">close</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.data_select" title="Link to this definition"></a></dt>
<dd><p>Selects data from an input object (<code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code>, <code class="docutils literal notranslate"><span class="pre">pd.HDFStore</span></code>, <code class="docutils literal notranslate"><span class="pre">xr.DataArray</span></code> or <code class="docutils literal notranslate"><span class="pre">xr.DataSet</span></code>)
based on filtering conditions.</p>
<p>This function filters data from various types of input objects based on the provided conditions
specified in the <code class="docutils literal notranslate"><span class="pre">'where'</span></code> parameter. It also supports selecting specific columns, resetting the index,
and returning the output as a DataFrame.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>obj</strong><span class="classifier">pd.DataFrame, pd.Series, dict, pd.HDFStore, xr.DataArray, or xr.Dataset</span></dt><dd><p>The input object from which data will be selected.
If <code class="docutils literal notranslate"><span class="pre">dict</span></code>, it will try to convert it to <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>.</p>
</dd>
<dt><strong>where</strong><span class="classifier">dict, list of dict or None, default None</span></dt><dd><p>Filtering conditions to be applied to the input object. It can be a single dictionary or a list
of dictionaries. Each dictionary should have keys: <code class="docutils literal notranslate"><span class="pre">&quot;col&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;comp&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;val&quot;</span></code>.
e.g.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">where</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;col&quot;</span><span class="p">:</span> <span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="s2">&quot;comp&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;=&quot;</span><span class="p">,</span> <span class="s2">&quot;val&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">&quot;col&quot;</span></code> value specifies the column, <code class="docutils literal notranslate"><span class="pre">&quot;comp&quot;</span></code> specifies
the comparison to be performed (<code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">!=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>)
and “val” is the value to be compared against.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then selects all data. Specifying <code class="docutils literal notranslate"><span class="pre">'where'</span></code> parameter can avoid reading all data in from
filesystem when <code class="docutils literal notranslate"><span class="pre">obj</span></code> is <code class="docutils literal notranslate"><span class="pre">pandas.HDFStore</span></code> or <code class="docutils literal notranslate"><span class="pre">xarray.Dataset</span></code>.</p>
</dd>
<dt><strong>combine_where: str, default ‘AND’</strong></dt><dd><p>How should where conditions, if there are multiple, be combined? Valid values are [<code class="docutils literal notranslate"><span class="pre">&quot;AND&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;OR&quot;</span></code>], not case-sensitive.</p>
</dd>
<dt><strong>table</strong><span class="classifier">str, default None</span></dt><dd><p>The table name to select from when using an HDFStore object.
If <code class="docutils literal notranslate"><span class="pre">obj</span></code> is <code class="docutils literal notranslate"><span class="pre">pandas.HDFStore</span></code> then table must be supplied.</p>
</dd>
<dt><strong>return_df</strong><span class="classifier">bool, default True</span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the output will be returned as a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>.</p>
</dd>
<dt><strong>reset_index</strong><span class="classifier">bool, default False</span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the index of the output DataFrame will be reset.</p>
</dd>
<dt><strong>drop</strong><span class="classifier">bool, default True</span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the output will have the filtered-out values removed. Applicable only for xarray objects.
Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd>
<dt><strong>copy</strong><span class="classifier">bool, default True</span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the output will be a copy of the selected data. Applicable only for DataFrame objects.</p>
</dd>
<dt><strong>columns</strong><span class="classifier">list or None, default None</span></dt><dd><p>A list of column names to be selected from the input object. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, selects all columns.</p>
</dd>
<dt><strong>close</strong><span class="classifier">bool, default False</span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, and <code class="docutils literal notranslate"><span class="pre">obj</span></code> is <code class="docutils literal notranslate"><span class="pre">pandas.HDFStore</span></code> it will be closed after selecting data.</p>
</dd>
<dt><strong>kwargs</strong><span class="classifier">any</span></dt><dd><p>Additional keyword arguments to be passed to the <code class="docutils literal notranslate"><span class="pre">obj.select</span></code> method when using an HDFStore object.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">pandas.DataFrame, pandas.Series, or xarray.DataArray</span></dt><dd><p>The filtered data as a <code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code>, <code class="docutils literal notranslate"><span class="pre">pd.Series</span></code>, or <code class="docutils literal notranslate"><span class="pre">xr.DataArray</span></code>, based on the input object type and <code class="docutils literal notranslate"><span class="pre">return_df</span></code> parameter.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If the table parameter is not provided when using an HDFStore object.</p>
</dd>
<dt>AssertionError</dt><dd><p>If the provided columns are not found in the input object when using a DataFrame object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">GPSat.dataloader</span> <span class="kn">import</span> <span class="n">DataLoader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;B&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]})</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Select data from a DataFrame with a filtering condition</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selected_df</span> <span class="o">=</span> <span class="n">DataLoader</span><span class="o">.</span><span class="n">data_select</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">where</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;col&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;comp&quot;</span><span class="p">:</span> <span class="s2">&quot;&gt;=&quot;</span><span class="p">,</span> <span class="s2">&quot;val&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">selected_df</span><span class="p">)</span>
<span class="go">   A  B</span>
<span class="go">1  2  5</span>
<span class="go">2  3  6</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.file_suffix_engine_map">
<span class="sig-name descname"><span class="pre">file_suffix_engine_map</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'csv':</span> <span class="pre">'read_csv',</span> <span class="pre">'h5':</span> <span class="pre">'HDFStore',</span> <span class="pre">'nc':</span> <span class="pre">'netcdf4',</span> <span class="pre">'parquet':</span> <span class="pre">'read_parquet',</span> <span class="pre">'tsv':</span> <span class="pre">'read_csv',</span> <span class="pre">'zarr':</span> <span class="pre">'zarr'}</span></em><a class="headerlink" href="#GPSat.dataloader.DataLoader.file_suffix_engine_map" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.generate_local_expert_locations">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">generate_local_expert_locations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loc_dims</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">masks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'include'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_func_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.generate_local_expert_locations" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.get_attribute_from_table">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_attribute_from_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attribute_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.get_attribute_from_table" title="Link to this definition"></a></dt>
<dd><p>Retrieve an attribute from a specific table in a HDF5 file or HDFStore.</p>
<p>This function can handle both cases when the source is a filepath string to a HDF5 file or a pandas HDFStore object.
The function opens the source (if it’s a filepath), then attempts to retrieve the specified attribute from the
specified table within the source. If the retrieval fails for any reason, a warning is issued and None is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>source</strong><span class="classifier">str or pandas.HDFStore</span></dt><dd><p>The source from where to retrieve the attribute. If it’s a string, it is treated as a filepath to a HDF5 file.
If it’s a pandas HDFStore object, the function operates directly on it.</p>
</dd>
<dt><strong>table</strong><span class="classifier">str</span></dt><dd><p>The name of the table within the source from where to retrieve the attribute.</p>
</dd>
<dt><strong>attribute_name</strong><span class="classifier">str</span></dt><dd><p>The name of the attribute to retrieve.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>attribute</strong><span class="classifier">object</span></dt><dd><p>The attribute retrieved from the specified table in the source. If the attribute could not be retrieved, None is
returned.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>NotImplementedError</dt><dd><p>If the type of the source is neither a string nor a pandas.HDFStore.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.get_keys">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verobse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.get_keys" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.get_masks_for_expert_loc">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_masks_for_expert_loc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">el_masks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.get_masks_for_expert_loc" title="Link to this definition"></a></dt>
<dd><p>Generate a list of masks based on given local experts locations (el_masks) and a reference data (ref_data).</p>
<dl class="simple">
<dt>This function can generate masks in two ways:</dt><dd><ol class="arabic simple">
<li><p>If el_mask is a string “had_obs”, a mask is created based on the obs_col of the reference data where any
non-NaN value is present.</p></li>
<li><p>If el_mask is a dictionary with “grid_space” key, a regularly spaced mask is created based on the dimensions
specified and the grid_space value.</p></li>
</ol>
</dd>
</dl>
<p>The reference data is expected to be an xarray DataArray or xarray Dataset. Support for pandas DataFrame may be
added in future.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>ref_data</strong><span class="classifier">xarray.DataArray or xarray.Dataset</span></dt><dd><p>The reference data to use when generating the masks. The data should have coordinates that match the dimensions
specified in the el_masks dictionary, if provided.</p>
</dd>
<dt><strong>el_masks</strong><span class="classifier">list of str or dict, optional</span></dt><dd><p>A list of instructions for generating the masks. Each element in the list can either be a string or a dictionary.
If a string, it should be “had_obs”, which indicates a mask should be created where any non-NaN value is present
in the obs_col of the ref_data.
If a dictionary, it should have a “grid_space” key indicating the regular spacing to be used when creating a mask
and ‘dims’ key specifying dimensions in the reference data to be considered.
By default, it is None, which indicates no mask is to be generated.</p>
</dd>
<dt><strong>obs_col</strong><span class="classifier">str, optional</span></dt><dd><p>The column in the reference data to use when generating a mask based on “had_obs” instruction. This parameter is
ignored if “had_obs” is not present in el_masks.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>list of xarray.DataArray</dt><dd><p>A list of masks generated based on the el_masks instructions. Each mask is an xarray DataArray with the same
coordinates as the ref_data. Each value in the mask is a boolean indicating whether a local expert should be
located at that point.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If ref_data is not an instance of xarray.DataArray or xarray.Dataset, or if “grid_space” is in el_masks but
the corresponding dimensions specified in the ‘dims’ key do not exist in ref_data.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The function could be extended to read data from file system and allow different reference data.</p>
<p>Future extensions could also include support for lel_mask to be only list of dict and for reference data to be
pandas DataFrame.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.get_run_info">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_run_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">script_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.get_run_info" title="Link to this definition"></a></dt>
<dd><p>Retrieves information about the current Python script execution environment,
including run time, Python executable path, and Git information.</p>
<p>This function collects information about the current script execution environment,
such as the date and time when the script is executed, the path of the Python interpreter,
the script’s file path, and Git information (if available).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>script_path</strong><span class="classifier">str, default None</span></dt><dd><p>The file path of the currently executed script. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, it will try to retrieve the file path
automatically.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>run_info</strong><span class="classifier">dict</span></dt><dd><p>A dictionary containing the following keys:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;run_time&quot;</span></code>: The date and time when the script was executed, formatted as <code class="docutils literal notranslate"><span class="pre">&quot;YYYY-MM-DD</span> <span class="pre">HH:MM:SS&quot;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;python_executable&quot;</span></code>: The path of the Python interpreter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;script_path&quot;</span></code>: The absolute file path of the script (if available).</p></li>
<li><p>Git-related keys: <code class="docutils literal notranslate"><span class="pre">&quot;git_branch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;git_commit&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;git_url&quot;</span></code>, and <code class="docutils literal notranslate"><span class="pre">&quot;git_modified&quot;</span></code> (if available).</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">GPSat.dataloader</span> <span class="kn">import</span> <span class="n">DataLoader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">run_info</span> <span class="o">=</span> <span class="n">DataLoader</span><span class="o">.</span><span class="n">get_run_info</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">run_info</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &quot;run_time&quot;: &quot;2023-04-28 10:30:00&quot;,</span>
<span class="go">    &quot;python_executable&quot;: &quot;/usr/local/bin/python3.9&quot;,</span>
<span class="go">    &quot;script_path&quot;: &quot;/path/to/your/script.py&quot;,</span>
<span class="go">    &quot;branch&quot;: &quot;main&quot;,</span>
<span class="go">    &quot;commit&quot;: &quot;123abc&quot;,</span>
<span class="go">    &quot;remote&quot;: [&quot;https://github.com/user/repo.git&quot; (fetch),&quot;https://github.com/user/repo.git&quot; (push)]</span>
<span class="go">    &quot;details&quot;: [&#39;commit 123abc&#39;,</span>
<span class="go">      &#39;Author: UserName &lt;username42@gmail.com&gt;&#39;,</span>
<span class="go">      &#39;Date:   Fri Apr 28 07:22:31 2023 +0100&#39;,</span>
<span class="go">      &#39;:bug: fix &#39;]</span>
<span class="go">    &quot;modified&quot; : [&#39;list_of_files.py&#39;, &#39;modified_since.py&#39;, &#39;last_commit.py&#39;]</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.get_where_list">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_where_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">global_select</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_loc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.get_where_list" title="Link to this definition"></a></dt>
<dd><p>Generate a list of selection criteria for data filtering based on global and local conditions, as well as reference
location.</p>
<p>The function accepts a list of global select conditions, and optional local select conditions
and reference location.
Each condition in global select can either be ‘static’ (with keys ‘col’, ‘comp’, and ‘val’)
or ‘dynamic’ (requiring local select and reference location and having keys ‘loc_col’, ‘src_col’, ‘func’).
The function evaluates each global select condition and constructs a corresponding selection dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>global_select</strong><span class="classifier">list of dict</span></dt><dd><p>A list of dictionaries defining global selection conditions. Each dictionary can be either ‘static’ or ‘dynamic’.
‘Static’ dictionaries should contain the keys ‘col’, ‘comp’, and ‘val’ which define a column, a comparison
operator, and a value respectively.
‘Dynamic’ dictionaries should contain the keys ‘loc_col’, ‘src_col’, and ‘func’ which define a location column,
a source column, and a function respectively.</p>
</dd>
<dt><strong>local_select</strong><span class="classifier">list of dict, optional</span></dt><dd><p>A list of dictionaries defining local selection conditions. Each dictionary should contain keys ‘col’, ‘comp’,
and ‘val’ defining a column, a comparison operator, and a value respectively. This parameter is required if any
‘dynamic’ condition is present in global_select.</p>
</dd>
<dt><strong>ref_loc</strong><span class="classifier">pandas DataFrame, optional</span></dt><dd><p>A reference location as a pandas DataFrame. This parameter is required if any ‘dynamic’ condition is present in
global_select.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>list of dict</dt><dd><p>A list of dictionaries each representing a selection condition to be applied on data. Each dictionary contains
keys ‘col’, ‘comp’, and ‘val’ defining a column, a comparison operator, and a value respectively.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If a ‘dynamic’ condition is present in global_select but local_select or ref_loc is not provided, or if the
required keys are not present in the ‘dynamic’ condition, or if the location column specified in a ‘dynamic’
condition is not present in ref_loc.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.get_where_list_legacy">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_where_list_legacy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">read_in_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.get_where_list_legacy" title="Link to this definition"></a></dt>
<dd><p>Generate a list (of lists) of where conditions that can be consumed by <code class="docutils literal notranslate"><span class="pre">pd.HDFStore(...).select</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>read_in_by: dict of dict or None</strong></dt><dd><p>Sub-dictionary must contain the keys <code class="docutils literal notranslate"><span class="pre">&quot;values&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;how&quot;</span></code>.</p>
</dd>
<dt><strong>where: str or None</strong></dt><dd><p>Used if <code class="docutils literal notranslate"><span class="pre">read_in_by</span></code> is not provided.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>list of list</dt><dd><p>Containing string where conditions.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.hdf_tables_in_store">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hdf_tables_in_store</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">store</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.hdf_tables_in_store" title="Link to this definition"></a></dt>
<dd><p>Retrieve the list of tables available in an HDFStore.</p>
<p>This class method allows the user to get the names of all tables stored in a given HDFStore.
It accepts either an already open HDFStore object or a path to an HDF5 file. If a path is provided,
the method will open the HDFStore in read-only mode, retrieve the table names, and then close the store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>store</strong><span class="classifier">pd.io.pytables.HDFStore, optional</span></dt><dd><p>An open HDFStore object. If this parameter is provided, <cite>path</cite> should not be specified.</p>
</dd>
<dt><strong>path</strong><span class="classifier">str, optional</span></dt><dd><p>The file path to an HDF5 file. If this parameter is provided, <cite>store</cite> should not be specified.
The method opens the HDFStore at this path in read-only mode to retrieve the table names.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>list of str</dt><dd><p>A list containing the names of all tables in the HDFStore.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If both <cite>store</cite> and <cite>path</cite> are None, or if the <cite>store</cite> provided is not an instance of pd.io.pytables.HDFStore.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The method ensures that only one of <cite>store</cite> or <cite>path</cite> is provided. If <cite>path</cite> is specified,
the HDFStore is opened in read-only mode and closed after retrieving the table names.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">DataLoader</span><span class="o">.</span><span class="n">hdf_tables_in_store</span><span class="p">(</span><span class="n">store</span><span class="o">=</span><span class="n">my_store</span><span class="p">)</span>
<span class="go">[&#39;/table1&#39;, &#39;/table2&#39;]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">DataLoader</span><span class="o">.</span><span class="n">hdf_tables_in_store</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s1">&#39;path/to/hdf5_file.h5&#39;</span><span class="p">)</span>
<span class="go">[&#39;/table1&#39;, &#39;/table2&#39;, &#39;/table3&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.is_list_of_dict">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_list_of_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lst</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.is_list_of_dict" title="Link to this definition"></a></dt>
<dd><p>Checks if the given input is a list of dictionaries.</p>
<p>This utility function tests if the input is a list where all elements are instances of the <code class="docutils literal notranslate"><span class="pre">dict</span></code> type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>lst</strong><span class="classifier">list</span></dt><dd><p>The input list to be checked for containing only dictionaries.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>bool</dt><dd><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the input is a list of dictionaries, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">GPSat.dataloader</span> <span class="kn">import</span> <span class="n">DataLoader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">DataLoader</span><span class="o">.</span><span class="n">is_list_of_dict</span><span class="p">([{</span><span class="s2">&quot;col&quot;</span><span class="p">:</span> <span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="s2">&quot;comp&quot;</span><span class="p">:</span> <span class="s2">&quot;==&quot;</span><span class="p">,</span> <span class="s2">&quot;val&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}])</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">DataLoader</span><span class="o">.</span><span class="n">is_list_of_dict</span><span class="p">([{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}])</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">DataLoader</span><span class="o">.</span><span class="n">is_list_of_dict</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">DataLoader</span><span class="o">.</span><span class="n">is_list_of_dict</span><span class="p">(</span><span class="s2">&quot;not a list&quot;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.kdt_tree_list_for_local_select">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kdt_tree_list_for_local_select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_select</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.kdt_tree_list_for_local_select" title="Link to this definition"></a></dt>
<dd><p>Pre-calculates a list of KDTree objects for selecting points within a radius based on the <code class="docutils literal notranslate"><span class="pre">local_select</span></code> input.</p>
<p>Given a DataFrame and a list of local selection criteria, this function builds a list of KDTree objects that
can be used for spatially selecting points within specified radii.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>The input DataFrame containing the data to be used for KDTree construction.</p>
</dd>
<dt><strong>local_select</strong><span class="classifier">list of dict</span></dt><dd><p>A list of dictionaries containing the selection criteria for each local select. Each dictionary should
have the following keys:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;col&quot;</span></code>: The name of the column(s) used for spatial selection. Can be a single string or a list of strings.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;comp&quot;</span></code>: The comparison operator, either <code class="docutils literal notranslate"><span class="pre">&quot;&lt;&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;&lt;=&quot;</span></code>. Currently, only less than comparisons are supported
for multi-dimensional values.</p></li>
</ul>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">list</span></dt><dd><p>A list of KDTree objects or None values, where each element corresponds to an entry in the <code class="docutils literal notranslate"><span class="pre">local_select</span></code>
input. If an entry in <code class="docutils literal notranslate"><span class="pre">local_select</span></code> has a single string for <code class="docutils literal notranslate"><span class="pre">&quot;col&quot;</span></code>, the corresponding output element will be
None. Otherwise, the output element will be a KDTree object built from the specified columns.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">GPSat.dataloader</span> <span class="kn">import</span> <span class="n">DataLoader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">local_select</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;col&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">],</span> <span class="s2">&quot;comp&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kdt_trees</span> <span class="o">=</span> <span class="n">DataLoader</span><span class="o">.</span><span class="n">kdt_tree_list_for_local_select</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">local_select</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">kdt_trees</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.load">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_funcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_data_to_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">close</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combine_row_select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'AND'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.load" title="Link to this definition"></a></dt>
<dd><p>Load data from various sources and (optionally)
apply selection of columns/rows and add/modify columns.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>source: str, pd.DataFrame, pd.Series, pd.HDFStore, xr.DataSet, default None</strong></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">str</span></code>, will try to convert to other types.</p>
</dd>
<dt><strong>where: dict or list of dict, default None</strong></dt><dd><p>Used when querying <code class="docutils literal notranslate"><span class="pre">pd.HDFStore</span></code>, <code class="docutils literal notranslate"><span class="pre">xr.DataSet</span></code>, <code class="docutils literal notranslate"><span class="pre">xr.DataArray</span></code>.
Specified as a list of one or more dictionaries, each containing the keys:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;col&quot;</span></code>: refers to a column (or variable for xarray objects.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;comp&quot;</span></code>: is the type of comparison to apply e.g. <code class="docutils literal notranslate"><span class="pre">&quot;==&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;!=&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;&gt;=&quot;</span></code>,                           <code class="docutils literal notranslate"><span class="pre">&quot;&gt;&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;&lt;=&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;&lt;&quot;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;val&quot;</span></code>: value to be compared with.</p></li>
</ul>
<p>e.g.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">where</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;col&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;comp&quot;</span><span class="p">:</span> <span class="s2">&quot;&gt;=&quot;</span><span class="p">,</span> <span class="s2">&quot;val&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}]</span>
</pre></div>
</div>
<p>will select entries where the column <code class="docutils literal notranslate"><span class="pre">&quot;A&quot;</span></code> is greater than 0.</p>
<p><strong>Note:</strong> Think of this as a database query, with the <code class="docutils literal notranslate"><span class="pre">where</span></code> used to read data from the file system into memory.</p>
</dd>
<dt><strong>engine: str or None, default None</strong></dt><dd><p>Specify the type of ‘engine’ to use to read in data.
If not supplied, it will be inferred by source if source is string.
Valid values: <code class="docutils literal notranslate"><span class="pre">&quot;HDFStore&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;netcdf4&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;scipy&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;pydap&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;h5netcdf&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;pynio&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;cfgrib&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;pseudonetcdf&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;zarr&quot;</span></code> or any of Pandas <code class="docutils literal notranslate"><span class="pre">&quot;read_*&quot;</span></code>.</p>
</dd>
<dt><strong>table: str or None, default None</strong></dt><dd><p>Used only if source is <code class="docutils literal notranslate"><span class="pre">pd.HDFStore</span></code> (or is converted to one) and is required if so.
Should be a valid table (i.e. key) in HDFStore.</p>
</dd>
<dt><strong>source_kwargs: dict or None, default None</strong></dt><dd><p>Additional keyword arguments to pass to the data source reading functions, depending on <code class="docutils literal notranslate"><span class="pre">engine</span></code>.
e.g. keyword arguments for <code class="docutils literal notranslate"><span class="pre">pandas.read_csv()</span></code> if <code class="docutils literal notranslate"><span class="pre">engine=read_csv</span></code>.</p>
</dd>
<dt><strong>col_funcs: dict or None, default None</strong></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">dict</span></code>, it will be provided to <a class="reference internal" href="dataloader.html#GPSat.dataloader.DataLoader.add_cols" title="GPSat.dataloader.DataLoader.add_cols"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_cols</span></code></a>
method to add or modify columns.</p>
</dd>
<dt><strong>row_select: dict, list of dict, or None, default None</strong></dt><dd><p>Used to select a subset of data <em>after</em>
data is initially read into memory. Can be the same type of input as <code class="docutils literal notranslate"><span class="pre">where</span></code> i.e.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">row_select</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;col&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;comp&quot;</span><span class="p">:</span> <span class="s2">&quot;&gt;=&quot;</span><span class="p">,</span> <span class="s2">&quot;val&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</pre></div>
</div>
<p>or use <code class="docutils literal notranslate"><span class="pre">col_funcs</span></code> that return <code class="docutils literal notranslate"><span class="pre">bool</span></code> array</p>
<p>e.g.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">row_select</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;func&quot;</span><span class="p">:</span> <span class="s2">&quot;lambda x: ~np.isnan(x)&quot;</span><span class="p">,</span> <span class="s2">&quot;col_args&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
</pre></div>
</div>
<p>see <code class="docutils literal notranslate"><span class="pre">help(utils.config_func)</span></code> for more details.</p>
</dd>
<dt><strong>col_select: list of str or None, default None</strong></dt><dd><p>If specified as a list of strings, it will return a subset of columns using <code class="docutils literal notranslate"><span class="pre">col_select</span></code>.
All values must be valid. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, all columns will be returned.</p>
</dd>
<dt><strong>filename: str or None, default None</strong></dt><dd><p>Used by <a class="reference internal" href="dataloader.html#GPSat.dataloader.DataLoader.add_cols" title="GPSat.dataloader.DataLoader.add_cols"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_cols</span></code></a> method.</p>
</dd>
<dt><strong>reset_index: bool, default True</strong></dt><dd><p>Apply <code class="docutils literal notranslate"><span class="pre">reset_index(inplace=True)</span></code> before returning?</p>
</dd>
<dt><strong>add_data_to_col:</strong></dt><dd><p>Add new column to data frame.
See argument <code class="docutils literal notranslate"><span class="pre">add_data_to_col</span></code> in <a class="reference internal" href="dataloader.html#GPSat.dataloader.DataLoader.add_data_to_col" title="GPSat.dataloader.DataLoader.add_data_to_col"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_data_to_col</span></code></a>.</p>
</dd>
<dt><strong>close: bool, default False</strong></dt><dd><p>See <a class="reference internal" href="dataloader.html#GPSat.dataloader.DataLoader.data_select" title="GPSat.dataloader.DataLoader.data_select"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataLoader.data_select</span></code></a> for details</p>
</dd>
<dt><strong>verbose: bool, default False</strong></dt><dd><p>Set verbosity.</p>
</dd>
<dt><strong>kwargs:</strong></dt><dd><p>Additional arguments to be provided to <a class="reference internal" href="dataloader.html#GPSat.dataloader.DataLoader.data_select" title="GPSat.dataloader.DataLoader.data_select"><code class="xref py py-func docutils literal notranslate"><span class="pre">data_select</span></code></a> method</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>pd.DataFrame</dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">GPSat.dataloader</span> <span class="kn">import</span> <span class="n">DataLoader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;B&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataLoader</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">source</span> <span class="o">=</span> <span class="n">df</span><span class="p">,</span>
<span class="gp">... </span>                     <span class="n">where</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;col&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;comp&quot;</span><span class="p">:</span> <span class="s2">&quot;&gt;=&quot;</span><span class="p">,</span> <span class="s2">&quot;val&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="go">   A  B</span>
<span class="go">0  2  5</span>
<span class="go">1  3  6</span>
</pre></div>
</div>
<p>If the data is stored in a file, we can extract it as follows (here, we assume
the data is saved in “path/to/data.h5” under the table “data”):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataLoader</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">source</span> <span class="o">=</span> <span class="s2">&quot;path/to/data.h5&quot;</span><span class="p">,</span>
<span class="gp">... </span>                     <span class="n">table</span> <span class="o">=</span> <span class="s2">&quot;data&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.local_data_select">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">local_data_select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_location</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_select</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kdtree</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.local_data_select" title="Link to this definition"></a></dt>
<dd><p>Selects data from a DataFrame based on a given criteria and reference (expert) location.</p>
<p>This method applies local selection criteria to a DataFrame, allowing for flexible,
column-wise data selection based on comparison operations. For multi (dimensional) column
selections, a KDTree can be used for efficiency.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>The DataFrame from which data will be selected.</p>
</dd>
<dt><strong>reference_location</strong><span class="classifier">dict or pd.DataFrame</span></dt><dd><p>Reference location used for comparisons. If DataFrame is provided, it will be converted to dict.</p>
</dd>
<dt><strong>local_select</strong><span class="classifier">list of dict</span></dt><dd><p>List of dictionaries containing the selection criteria for each local select. Each dictionary must
contain keys ‘col’, ‘comp’, and ‘val’. ‘col’ is the column in ‘df’ to apply the comparison on, ‘comp’
is the comparison operator as a string (can be ‘&gt;=’, ‘&gt;’, ‘==’, ‘&lt;’, ‘&lt;=’), and ‘val’ is the value to
compare with.</p>
</dd>
<dt><strong>kdtree</strong><span class="classifier">KDTree or list of KDTree, optional</span></dt><dd><p>Precomputed KDTree or list of KDTrees for optimization. Each KDTree in the list corresponds to an
entry in local_select. If not provided, a new KDTree will be created.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool, default=True</span></dt><dd><p>If True, print details for each selection criteria.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>pd.DataFrame</dt><dd><p>A DataFrame containing only the data that meets all of the selection criteria.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If ‘col’ is not in ‘df’ or ‘reference_location’, if the comparison operator in ‘local_select’ is not valid,
or if the provided ‘kdtree’ is not of type KDTree.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If ‘col’ is a string, a simple comparison is performed. If ‘col’ is a list of strings, a KDTree-based
selection is performed where each dimension is a column from ‘df’. For multi-dimensional comparisons,
only less than comparisons are currently handled.</p>
<p>If ‘kdtree’ is provided and is a list, it must be of the same length as ‘local_select’ with each element
corresponding to the same index in ‘local_select’.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.make_multiindex_df">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">make_multiindex_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx_dict</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.make_multiindex_df" title="Link to this definition"></a></dt>
<dd><p>Create a multi-indexed DataFrame from the provided index dictionary for each keyword argument supplied.</p>
<p>This function creates a multi-indexed DataFrame, with each row having the same multi-index value
The index dictionary serves as the levels and labels for the multi-index, while the keyword arguments
provide the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>idx_dict</strong><span class="classifier">dict or pd.Series</span></dt><dd><p>A dictionary or pandas Series containing the levels and labels for the multi-index.</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier">dict</span></dt><dd><p>Keyword arguments specifying the data and column names for the resulting DataFrame.
The data can be of various types: <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code>, <code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code>,
<code class="docutils literal notranslate"><span class="pre">dict</span></code>, or <code class="docutils literal notranslate"><span class="pre">tuple</span></code>. This data will be transformed into a DataFrame, where the multi-index will be added.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>dict</dt><dd><p>A dictionary containing the multi-indexed DataFrames with keys corresponding to the keys of
provided keyword arguments.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">GPSat.dataloader</span> <span class="kn">import</span> <span class="n">DataLoader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="mi">2020</span><span class="p">,</span> <span class="s2">&quot;month&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">3</span><span class="p">)})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">DataLoader</span><span class="o">.</span><span class="n">make_multiindex_df</span><span class="p">(</span><span class="n">idx_dict</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">)</span>
<span class="go">{&#39;data&#39;: &lt;pandas.DataFrame (multiindexed) with shape (3, 4)&gt;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.mindex_df_to_mindex_dataarray">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mindex_df_to_mindex_dataarray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infer_dim_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'index'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.mindex_df_to_mindex_dataarray" title="Link to this definition"></a></dt>
<dd><p>Converts a multi-index DataFrame to a multi-index DataArray.</p>
<p>The method facilitates a transition from pandas DataFrame representation to the Xarray DataArray format,
while preserving multi-index structure. This can be useful for higher-dimensional indexing, labeling, and
performing mathematical operations on the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>The input DataFrame with a multi-index to be converted to a DataArray.</p>
</dd>
<dt><strong>data_name</strong><span class="classifier">str</span></dt><dd><p>The name of the column in ‘df’ that contains the data values for the DataArray.</p>
</dd>
<dt><strong>dim_cols</strong><span class="classifier">list of str, optional</span></dt><dd><p>A list of columns in ‘df’ that will be used as additional dimensions in the DataArray. If None, dimension
columns will be inferred if ‘infer_dim_cols’ is True.</p>
</dd>
<dt><strong>infer_dim_cols</strong><span class="classifier">bool, default=True</span></dt><dd><p>If True and ‘dim_cols’ is None, dimension columns will be inferred from ‘df’. Columns will be considered
a dimension column if they match the pattern “^_dim_d”.</p>
</dd>
<dt><strong>index_name</strong><span class="classifier">str, default=”index”</span></dt><dd><p>The name assigned to the placeholder index created during the conversion process.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>xr.DataArray</dt><dd><p>A DataArray derived from the input DataFrame with the same multi-index structure. The data values are
taken from the column in ‘df’ specified by ‘data_name’. Additional dimensions can be included from ‘df’ as
specified by ‘dim_cols’.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If ‘data_name’ is not a column in ‘df’.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The function manipulates ‘df’ by reference. If the original DataFrame needs to be preserved, provide a copy to
the function.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.read_flat_files">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_flat_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_dirs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_regex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sub_dirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_csv_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_funcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_column_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.read_flat_files" title="Link to this definition"></a></dt>
<dd><p>wrapper for read_from_multiple_files with read_engine=’csv’        Parameters</p>
<p>Read flat files (<code class="docutils literal notranslate"><span class="pre">.csv</span></code>, <code class="docutils literal notranslate"><span class="pre">.tsv</span></code>, etc) from file system
and returns a <code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>file_dirs: str or List[str]</strong></dt><dd><p>The directories containing the files to read.</p>
</dd>
<dt><strong>file_regex: str</strong></dt><dd><p>A regular expression pattern to match file names within the specified directories.</p>
</dd>
<dt><strong>sub_dirs: str or List[str], optional</strong></dt><dd><p>Subdirectories within each file directory to search for files.</p>
</dd>
<dt><strong>read_csv_kwargs: dict, optional</strong></dt><dd><p>Additional keyword arguments specifically for CSV reading.
These are keyword arguments for the function <code class="docutils literal notranslate"><span class="pre">pandas.read_csv()</span></code>.</p>
</dd>
<dt><strong>col_funcs: dict of dict, optional</strong></dt><dd><p>A dictionary with column names as keys and
column functions to apply during data reading as values.
The column functions should be a dictionary of keyword arguments to
<a class="reference internal" href="utils.html#GPSat.utils.config_func" title="GPSat.utils.config_func"><code class="xref py py-func docutils literal notranslate"><span class="pre">utils.config_func</span></code></a>.</p>
</dd>
<dt><strong>row_select: list of dict, optional</strong></dt><dd><p>A list of functions to select rows during data reading.</p>
</dd>
<dt><strong>col_select: list of str, optional</strong></dt><dd><p>A list of column names to read from data.</p>
</dd>
<dt><strong>new_column_names: List[str], optional</strong></dt><dd><p>New column names to assign to the resulting DataFrame.</p>
</dd>
<dt><strong>strict: bool, default True</strong></dt><dd><p>Whether to raise an error if a file directory does not exist.</p>
</dd>
<dt><strong>verbose: bool or int, default False</strong></dt><dd><p>Verbosity level for printing progress.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>pd.DataFrame</dt><dd><p>A DataFrame containing the combined data from multiple files.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This method reads data from multiple files located in specified directories and subdirectories.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">file_regex</span></code> argument is used to filter files to be read.</p></li>
<li><p>Various transformations can be applied to the data, including adding new columns and selecting rows/columns.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">new_column_names</span></code> is provided, it should be a list with names matching the number of columns in the output DataFrame.</p></li>
<li><p>The resulting DataFrame contains the combined data from all the specified files.</p></li>
</ul>
<p class="rubric">Examples</p>
<p>The command below reads the files <code class="docutils literal notranslate"><span class="pre">&quot;A_RAW.csv&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;B_RAW.csv&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;C_RAW.csv&quot;</span></code> in the path <code class="docutils literal notranslate"><span class="pre">&quot;/path/to/dir&quot;</span></code>
and combines them into a single dataframe.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">GPSat.dataloader</span> <span class="kn">import</span> <span class="n">DataLoader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col_funcs</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>   <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="c1"># Add a new column &quot;source&quot; with entries &quot;A&quot;, &quot;B&quot; or &quot;C&quot;.</span>
<span class="gp">... </span>       <span class="s2">&quot;func&quot;</span><span class="p">:</span> <span class="s2">&quot;lambda x: re.sub(&#39;_RAW.*$&#39;, &#39;&#39;, os.path.basename(x))&quot;</span><span class="p">,</span>
<span class="gp">... </span>       <span class="s2">&quot;filename_as_arg&quot;</span><span class="p">:</span> <span class="n">true</span>
<span class="gp">... </span>   <span class="p">},</span>
<span class="gp">... </span>   <span class="s2">&quot;datetime&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="c1"># Modify column &quot;datetime&quot; by converting to datetime64[s].</span>
<span class="gp">... </span>       <span class="s2">&quot;func&quot;</span><span class="p">:</span> <span class="s2">&quot;lambda x: x.astype(&#39;datetime64[s]&#39;)&quot;</span><span class="p">,</span>
<span class="gp">... </span>       <span class="s2">&quot;col_args&quot;</span><span class="p">:</span> <span class="s2">&quot;datetime&quot;</span>
<span class="gp">... </span>   <span class="p">},</span>
<span class="gp">... </span>   <span class="s2">&quot;obs&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="c1"># Rename column &quot;z&quot; to &quot;obs&quot; and subtract mean value 0.1.</span>
<span class="gp">... </span>       <span class="s2">&quot;func&quot;</span><span class="p">:</span> <span class="s2">&quot;lambda x: x-0.1&quot;</span><span class="p">,</span>
<span class="gp">... </span>       <span class="s2">&quot;col_args&quot;</span><span class="p">:</span> <span class="s2">&quot;z&quot;</span>
<span class="gp">... </span>   <span class="p">}</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">row_select</span> <span class="o">=</span> <span class="p">[</span> <span class="c1"># Read data whose &quot;lat&quot; value is &gt;= 65.</span>
<span class="gp">... </span>   <span class="p">{</span>
<span class="gp">... </span>       <span class="s2">&quot;func&quot;</span><span class="p">:</span> <span class="s2">&quot;lambda x: x&gt;=65&quot;</span><span class="p">,</span>
<span class="gp">... </span>       <span class="s2">&quot;col_kwargs&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>           <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="s2">&quot;lat&quot;</span>
<span class="gp">... </span>       <span class="p">}</span>
<span class="gp">... </span>   <span class="p">}</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataLoader</span><span class="o">.</span><span class="n">read_flat_files</span><span class="p">(</span><span class="n">file_dirs</span> <span class="o">=</span> <span class="s2">&quot;/path/to/dir/&quot;</span><span class="p">,</span>
<span class="gp">... </span>                                <span class="n">file_regex</span> <span class="o">=</span> <span class="s2">&quot;.*_RAW.csv$&quot;</span><span class="p">,</span>
<span class="gp">... </span>                                <span class="n">col_funcs</span> <span class="o">=</span> <span class="n">col_funcs</span><span class="p">,</span>
<span class="gp">... </span>                                <span class="n">row_select</span> <span class="o">=</span> <span class="n">row_select</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">        lon             lat             datetime                source  obs</span>
<span class="go">0       59.944790       82.061122       2020-03-01 13:48:50     C       -0.0401</span>
<span class="go">1       59.939555       82.063771       2020-03-01 13:48:50     C       -0.0861</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.read_from_multiple_files">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_from_multiple_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_dirs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_regex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_engine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'csv'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sub_dirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_funcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_column_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_csv_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.read_from_multiple_files" title="Link to this definition"></a></dt>
<dd><p>Reads and merges data from multiple files in specified directories,
Optionally apply various transformations such as column renaming, row selection, column selection or
other transformation functions to the data.</p>
<p>The primary input is a list of directories and a regular expression used to select which files
within those directories should be read.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>file_dirs</strong><span class="classifier">list of str</span></dt><dd><p>A list of directories to read the files from. Each directory is a string.
If a string is provided instead of a list, it will be wrapped into a single-element list.</p>
</dd>
<dt><strong>file_regex</strong><span class="classifier">str</span></dt><dd><p>Regular expression to match the files to be read from the directories specified in ‘file_dirs’.
e.g. “NEW.csv$’ with match all files ending with NEW.csv</p>
</dd>
<dt><strong>read_engine</strong><span class="classifier">str, optional</span></dt><dd><p>The engine to be used to read the files. Options include ‘csv’, ‘nc’, ‘netcdf’, and ‘xarray’.
Default is ‘csv’.</p>
</dd>
<dt><strong>sub_dirs</strong><span class="classifier">list of str, optional</span></dt><dd><p>A list of subdirectories to be appended to each directory in ‘file_dirs’.
If a string is provided, it will be wrapped into a single-element list. Default is None.</p>
</dd>
<dt><strong>col_funcs</strong><span class="classifier">dict, optional</span></dt><dd><p>A dictionary that maps new column names to functions that compute the column values.
Provided to add_cols via col_func_dict parameter. Default is None.</p>
</dd>
<dt><strong>row_select</strong><span class="classifier">list of dict, optional</span></dt><dd><p>A list of dictionaries, each representing a condition to select rows from the DataFrame.
Provided to the row_select_bool method.
Default is None.</p>
</dd>
<dt><strong>col_select</strong><span class="classifier">slice, optional</span></dt><dd><p>A slice object to select specific columns from the DataFrame. If not provided, all columns are selected.</p>
</dd>
<dt><strong>new_column_names</strong><span class="classifier">list of str, optional</span></dt><dd><p>New names for the DataFrame columns. The length should be equal to the number of columns in the DataFrame.
Default is None.</p>
</dd>
<dt><strong>strict</strong><span class="classifier">bool, optional</span></dt><dd><p>Determines whether to raise an error if a directory in ‘file_dirs’ does not exist.
If False, a warning is issued instead. Default is True.</p>
</dd>
<dt><strong>read_kwargs</strong><span class="classifier">dict, optional</span></dt><dd><p>Additional keyword arguments to pass to the read function (pd.read_csv or xr.open_dataset). Default is None.</p>
</dd>
<dt><strong>read_csv_kwargs</strong><span class="classifier">dict, optional</span></dt><dd><p>Deprecated. Additional keyword arguments to pass to pd.read_csv. Use ‘read_kwargs’ instead. Default is None.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool or int, optional</span></dt><dd><p>Determines the verbosity level of the function.
If True or an integer equal to or higher than 3, additional print statements are executed.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>The resulting DataFrame, merged from all the files that were read and processed.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>Raised if the ‘read_engine’ parameter is not one of the valid choices, if ‘read_kwargs’ or ‘col_funcs’ are not dictionaries, or if the length of ‘new_column_names’ is not equal to the number of columns in the DataFrame.
Raised if ‘strict’ is True and a directory in ‘file_dirs’ does not exist.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The function supports reading from csv, netCDF files and xarray Dataset formats. For netCDF and xarray Dataset, the data is converted to a DataFrame using the ‘to_dataframe’ method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.read_from_npy">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_from_npy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">npy_files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">npy_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flatten_xy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_xarray</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.read_from_npy" title="Link to this definition"></a></dt>
<dd><p>Read NumPy array(s) from the specified <code class="docutils literal notranslate"><span class="pre">.npy</span></code> file(s) and return as xarray DataArray(s).</p>
<p>This function reads one or more .npy files from the specified directory and returns them as xarray DataArray(s).
The input can be a single file, a list of files, or a dictionary of files with the desired keys.
The returned dictionary contains the xarray DataArray(s) with the corresponding keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>npy_files</strong><span class="classifier">str, list, or dict</span></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">.npy</span></code> file(s) to be read. It can be a single file (str), a list of files, or a dictionary of files.</p>
</dd>
<dt><strong>npy_dir</strong><span class="classifier">str</span></dt><dd><p>The directory containing the <code class="docutils literal notranslate"><span class="pre">.npy</span></code> file(s).</p>
</dd>
<dt><strong>dims</strong><span class="classifier">list or tuple, optional</span></dt><dd><p>The dimensions for the xarray DataArray(s), (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>).</p>
</dd>
<dt><strong>flatten_xy</strong><span class="classifier">bool, optional</span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, flatten the x and y arrays by taking the first row and first column, respectively (default: <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p>
</dd>
<dt><strong>return_xarray: bool, default True</strong></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code> will convert numpy arrays to pandas DataArray, otherwise will return dict of numpy arrays.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>dict</dt><dd><p>A dictionary containing xarray DataArray(s) with keys corresponding to the input files.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">read_from_npy</span><span class="p">(</span><span class="n">npy_files</span><span class="o">=</span><span class="s2">&quot;data.npy&quot;</span><span class="p">,</span> <span class="n">npy_dir</span><span class="o">=</span><span class="s2">&quot;./data&quot;</span><span class="p">)</span>
<span class="go">{&#39;obs&#39;: &lt;xarray.DataArray (shape)&gt;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">read_from_npy</span><span class="p">(</span><span class="n">npy_files</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;data1.npy&quot;</span><span class="p">,</span> <span class="s2">&quot;data2.npy&quot;</span><span class="p">],</span> <span class="n">npy_dir</span><span class="o">=</span><span class="s2">&quot;./data&quot;</span><span class="p">)</span>
<span class="go">{&#39;obs&#39;: [&lt;xarray.DataArray (shape1)&gt;, &lt;xarray.DataArray (shape2)&gt;]}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">read_from_npy</span><span class="p">(</span><span class="n">npy_files</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="s2">&quot;data_x.npy&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="s2">&quot;data_y.npy&quot;</span><span class="p">},</span> <span class="n">npy_dir</span><span class="o">=</span><span class="s2">&quot;./data&quot;</span><span class="p">)</span>
<span class="go">{&#39;x&#39;: &lt;xarray.DataArray (shape_x)&gt;, &#39;y&#39;: &lt;xarray.DataArray (shape_y)&gt;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.read_from_pkl_dict">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_from_pkl_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkl_files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pkl_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'obs'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.read_from_pkl_dict" title="Link to this definition"></a></dt>
<dd><p>Reads and processes data from pickle files and returns a DataFrame containing all data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pkl_files</strong><span class="classifier">str, list, or dict</span></dt><dd><p>The pickle file(s) to be read. This can be a string (representing a single file),
a list of strings (representing multiple files), or a dictionary, where keys are
the names of different data sources and the values are lists of file names.</p>
</dd>
<dt><strong>pkl_dir</strong><span class="classifier">str, optional</span></dt><dd><p>The directory where the pickle files are located. If not provided, the current directory is used.</p>
</dd>
<dt><strong>default_name</strong><span class="classifier">str, optional</span></dt><dd><p>The default data source name. This is used when <cite>pkl_files</cite> is a string or a list.
Default is “obs”.</p>
</dd>
<dt><strong>strict</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, the function will raise an exception if a file does not exist.
If False, it will print a warning and continue with the remaining files.
Default is True.</p>
</dd>
<dt><strong>dim_names</strong><span class="classifier">list, optional</span></dt><dd><p>The names of the dimensions. This is used when converting the data to a DataArray.
If not provided, default names are used.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>DataFrame</dt><dd><p>A DataFrame containing the data from all provided files. The DataFrame has a
MultiIndex with ‘idx0’, ‘idx1’ and ‘date’ as index levels, and ‘obs’ and ‘source’ as columns.
Each ‘source’ corresponds to a different data source (file).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The function reads the data from the pickle files and converts them into a DataFrame
For each file, it creates a MultiIndex DataFrame where the indices are a combination of two dimensions
and dates extracted from the keys in the dictionary loaded from the pickle file.</p>
<p>The function assumes the dictionary loaded from the pickle file has keys that can be converted to
dates with the format “YYYYMMDD”. It also assumes that the values in the dictionary to be 2D numpy array.</p>
<p>If <cite>pkl_files</cite> is a string or a list, the function treats them as files from a single data source
and uses <cite>default_name</cite> as the source name. If it’s a dictionary, the keys are treated as data source names,
and the values are lists of file names.</p>
<p>When multiple files are provided, the function concatenates the data along the date dimension.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.read_hdf">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_hdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">store</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">close</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">select_kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.read_hdf" title="Link to this definition"></a></dt>
<dd><p>Reads data from an HDF5 file, and returns a DataFrame.</p>
<p>This method can either read data directly from an open HDF5 store or from a provided file path.
In case a file path is provided, it opens the HDF5 file in read mode, and closes it after reading,
if ‘close’ is set to True.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>table</strong><span class="classifier">str</span></dt><dd><p>The key or the name of the dataset in the HDF5 file.</p>
</dd>
<dt><strong>store</strong><span class="classifier">pd.io.pytables.HDFStore, optional</span></dt><dd><p>An open HDF5 store. If provided, the method will directly read data from it. Default is None.</p>
</dd>
<dt><strong>path</strong><span class="classifier">str, optional</span></dt><dd><p>The path to the HDF5 file. If provided, the method will open the HDF5 file in read mode,
and read data from it. Default is None.</p>
</dd>
<dt><strong>close</strong><span class="classifier">bool, optional</span></dt><dd><p>A flag that indicates whether to close the HDF5 store after reading the data.
It is only relevant when ‘path’ is provided, in which case the default is True.</p>
</dd>
<dt><strong>**select_kwargs</strong><span class="classifier">dict, optional</span></dt><dd><p>Additional keyword arguments that are passed to the ‘select’ method of the HDFStore object.
This can be used to select only a subset of data from the HDF5 file.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>df</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>A DataFrame containing the data read from the HDF5 file.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If both ‘store’ and ‘path’ are None, or if ‘store’ is not an instance of pd.io.pytables.HDFStore.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Either ‘store’ or ‘path’ must be provided. If ‘store’ is provided, ‘path’ will be ignored.</p>
<p class="rubric">Examples</p>
<p>#&gt;&gt;&gt; store = pd.HDFStore(‘data.h5’)
#&gt;&gt;&gt; df = read_hdf(table=’my_data’, store=store)
#&gt;&gt;&gt; print(df)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.row_select_bool">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">row_select_bool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'AND'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.row_select_bool" title="Link to this definition"></a></dt>
<dd><p>Returns a boolean array indicating which rows of the DataFrame meet the specified conditions.</p>
<p>This class method applies a series of conditions, provided in the ‘row_select’ list, to the input DataFrame ‘df’.
Each condition is represented by a dictionary that is used as input to the ‘_bool_numpy_from_where’ method.</p>
<p>All conditions are combined via an ‘&amp;’ operator, meaning if all conditions for a given row are True
the return value for that row entry will be True and False if any condition is not satisfied.</p>
<p>If ‘row_select’ is None or an empty dictionary, all indices will be True.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df</strong><span class="classifier">DataFrame</span></dt><dd><p>The DataFrame to apply the conditions on.</p>
</dd>
<dt><strong>row_select</strong><span class="classifier">list of dict, optional</span></dt><dd><p>A list of dictionaries, each representing a condition to apply to ‘df’. Each dictionary should contain
the information needed for the ‘_bool_numpy_from_where’ method. If None or an empty dictionary, all
indices in the returned array will be True.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool or int, optional</span></dt><dd><p>If set to True or a number greater than or equal to 3, additional print statements will be executed.</p>
</dd>
<dt><strong>kwargs</strong><span class="classifier">dict</span></dt><dd><p>Additional keyword arguments passed to the ‘_bool_numpy_from_where’ method.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>select</strong><span class="classifier">np.array of bool</span></dt><dd><p>A boolean array indicating which rows of the DataFrame meet the conditions. The length of the array
is equal to the number of rows in ‘df’.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If ‘row_select’ is not None, not a dictionary and not a list, or if any element in ‘row_select’ is not a dictionary.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The function is designed to work with pandas DataFrames.</p>
<p>If ‘row_select’ is None or an empty dictionary,
the function will return an array with all elements set to True (indicating all rows of ‘df’ are selected).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.write_to_hdf">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">write_to_hdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">store</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">append</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.write_to_hdf" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataloader.DataLoader.write_to_netcdf">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">write_to_netcdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'w'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">to_netcdf_kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataloader.DataLoader.write_to_netcdf" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-GPSat.dataprepper">
<span id="gpsat-dataprepper-module"></span><h2>GPSat.dataprepper module<a class="headerlink" href="#module-GPSat.dataprepper" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="GPSat.dataprepper.DataPrep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GPSat.dataprepper.</span></span><span class="sig-name descname"><span class="pre">DataPrep</span></span><a class="headerlink" href="#GPSat.dataprepper.DataPrep" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataprepper.DataPrep.bin_data">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bin_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_statistic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_2d</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_bin_center</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataprepper.DataPrep.bin_data" title="Link to this definition"></a></dt>
<dd><p>Bins the data contained within a DataFrame into a grid, optionally computes a statistic
on the binned data, and returns the binned data along with the bin edges or centers.</p>
<p>This method supports both 2D and 1D binning, allowing for various statistical computations
on the binned values such as mean, median, count, etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>The DataFrame containing the data to be binned.</p>
</dd>
<dt><strong>x_range</strong><span class="classifier">tuple of float, optional</span></dt><dd><p>The minimum and maximum values of the x-axis to be binned. If not provided, a default
range is used.</p>
</dd>
<dt><strong>y_range</strong><span class="classifier">tuple of float, optional</span></dt><dd><p>The minimum and maximum values of the y-axis to be binned. Only required for 2D binning.
If not provided, a default range is used.</p>
</dd>
<dt><strong>grid_res</strong><span class="classifier">float</span></dt><dd><p>The resolution of the grid in the same units as the x and y data. Defines the size of
each bin.</p>
</dd>
<dt><strong>x_col</strong><span class="classifier">str, default ‘x’</span></dt><dd><p>The name of the column in <cite>df</cite> that contains the x-axis values.</p>
</dd>
<dt><strong>y_col</strong><span class="classifier">str, default ‘y’</span></dt><dd><p>The name of the column in <cite>df</cite> that contains the y-axis values. Ignored if <cite>bin_2d</cite> is False.</p>
</dd>
<dt><strong>val_col</strong><span class="classifier">str</span></dt><dd><p>The name of the column in <cite>df</cite> that contains the values to be binned and aggregated.</p>
</dd>
<dt><strong>bin_statistic</strong><span class="classifier">str, default ‘mean’</span></dt><dd><p>The statistic to compute on the binned data. Can be ‘mean’, ‘median’, ‘count’, or any
other statistic supported by <cite>scipy.stats.binned_statistic</cite> or
<cite>scipy.stats.binned_statistic_2d</cite>.</p>
</dd>
<dt><strong>bin_2d</strong><span class="classifier">bool, default True</span></dt><dd><p>If True, performs 2D binning using both x and y values. If False, performs 1D binning
using only x values.</p>
</dd>
<dt><strong>return_bin_center</strong><span class="classifier">bool, default True</span></dt><dd><p>If True, returns the center of each bin. If False, returns the edges of the bins.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>binned_data</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>An array of the binned and aggregated data. The shape of the array depends on the
binning dimensions and the grid resolution.</p>
</dd>
<dt><strong>x_bin</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>An array of the x-axis bin centers or edges, depending on the value of
<cite>return_bin_center</cite>.</p>
</dd>
<dt><strong>y_bin</strong><span class="classifier">numpy.ndarray, optional</span></dt><dd><p>An array of the y-axis bin centers or edges, only returned if <cite>bin_2d</cite> is True and
<cite>return_bin_center</cite> is specified.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If <cite>val_col</cite> or <cite>grid_res</cite> is not specified, or if the DataFrame <cite>df</cite> is empty.
Also raises an error if the provided <cite>x_range</cite> or <cite>y_range</cite> are invalid or if
the specified column names are not present in <cite>df</cite>.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The default <cite>x_range</cite> and <cite>y_range</cite> are set to [-4500000.0, 4500000.0] if not provided.</p></li>
<li><p>This method requires that <cite>val_col</cite> and <cite>grid_res</cite> be explicitly provided.</p></li>
<li><p>The binning process is influenced by the <cite>bin_statistic</cite> parameter, which determines
how the values in each bin are aggregated.</p></li>
<li><p>When <cite>bin_2d</cite> is False, <cite>y_col</cite> is ignored and only <cite>x_col</cite> and <cite>val_col</cite> are used for binning.</p></li>
<li><p>The method ensures that the <cite>x_col</cite>, <cite>y_col</cite>, and <cite>val_col</cite> exist in the DataFrame <cite>df</cite>.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.dataprepper.DataPrep.bin_data_by">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bin_data_by</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_funcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_statistic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_2d</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.dataprepper.DataPrep.bin_data_by" title="Link to this definition"></a></dt>
<dd><p>Class method to bin data by given columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>The dataframe containing the data to be binned.</p>
</dd>
<dt><strong>col_funcs</strong><span class="classifier">dict, optional</span></dt><dd><p>Dictionary with functions to be applied on the dataframe columns.</p>
</dd>
<dt><strong>row_select</strong><span class="classifier">dict, optional</span></dt><dd><p>Dictionary with conditions to select rows of the dataframe.</p>
</dd>
<dt><strong>by_cols</strong><span class="classifier">str, list, tuple, optional</span></dt><dd><p>Columns to be used for binning.</p>
</dd>
<dt><strong>val_col</strong><span class="classifier">str, optional</span></dt><dd><p>Column with values to be used for binning.</p>
</dd>
<dt><strong>x_col</strong><span class="classifier">str, optional</span></dt><dd><p>Name of the column to be used for x-axis, by default ‘x’.</p>
</dd>
<dt><strong>y_col</strong><span class="classifier">str, optional</span></dt><dd><p>Name of the column to be used for y-axis, by default ‘y’.</p>
</dd>
<dt><strong>x_range</strong><span class="classifier">list, tuple, optional</span></dt><dd><p>Range for the x-axis binning.</p>
</dd>
<dt><strong>y_range</strong><span class="classifier">list, tuple, optional</span></dt><dd><p>Range for the y-axis binning.</p>
</dd>
<dt><strong>grid_res</strong><span class="classifier">float, optional</span></dt><dd><p>Grid resolution for the binning process.</p>
</dd>
<dt><strong>bin_statistic</strong><span class="classifier">str or list, optional</span></dt><dd><p>Statistic(s) to compute (default is ‘mean’).</p>
</dd>
<dt><strong>bin_2d</strong><span class="classifier">bool, default True</span></dt><dd><p>if True bin data on a 2d grid, otherwise will perform 1d binning using only ‘x’</p>
</dd>
<dt><strong>limit</strong><span class="classifier">int, optional</span></dt><dd><p>Maximum number of unique values for the by_cols, by default 10000.</p>
</dd>
<dt><strong>return_df</strong><span class="classifier">bool, default False</span></dt><dd><p>if True return results in a DataFrame, otherwise a Dataset (xarray)</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool or int, optional</span></dt><dd><p>If True or integer larger than 0, print information about process.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>xarray.Dataset</dt><dd><p>An xarray.Dataset containing the binned data.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-GPSat.datetime_utils">
<span id="gpsat-datetime-utils-module"></span><h2>GPSat.datetime_utils module<a class="headerlink" href="#module-GPSat.datetime_utils" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="GPSat.datetime_utils.date_from_datetime">
<span class="sig-prename descclassname"><span class="pre">GPSat.datetime_utils.</span></span><span class="sig-name descname"><span class="pre">date_from_datetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.datetime_utils.date_from_datetime" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>Remove the time component of an array of datetimes (represented as strings) and just return the date</p>
<p>The datetime format is expected to be YYYY-MM-DD HH:mm:SS
The returned date format is YYYYMMDD</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>dt: list, np.array, pd.Series</strong></dt><dd><p>string with datetime format YYYY-MM-DD HH:mm:SS.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.ndarray: A date column with format YYYY-MM-DD.</dt><dd></dd>
</dl>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function uses a lambda function to remove the time portion and the dash from the datetime column.
It then returns a numpy array of the resulting date column.
It is possible to use apply on a Series to achieve the same result,
but it may not be as fast as using a lambda function and numpy array.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.datetime_utils.datetime_from_float_column">
<span class="sig-prename descclassname"><span class="pre">GPSat.datetime_utils.</span></span><span class="sig-name descname"><span class="pre">datetime_from_float_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float_datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epoch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(1950,</span> <span class="pre">1,</span> <span class="pre">1)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'D'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.datetime_utils.datetime_from_float_column" title="Link to this definition"></a></dt>
<dd><p>Converts a float datetime column to a datetime64 format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>float_datetime</strong><span class="classifier">pd.Series or np.array</span></dt><dd><p>A pandas series or numpy array containing float values, corresponding to datetime.</p>
</dd>
<dt><strong>epoch</strong><span class="classifier">tuple, default is (1950, 1, 1).</span></dt><dd><p>A tuple representing the epoch date in the format (year, month, day).</p>
</dd>
<dt><strong>time_unit</strong><span class="classifier">str, optional</span></dt><dd><p>The time unit of the float datetime values. Default is ‘D’ (days).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.ndarray</dt><dd><p>A numpy array of datetime64 values, with dtype ‘datetime64[s]’</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;float_datetime&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">18262.5</span><span class="p">,</span> <span class="mf">18263.5</span><span class="p">,</span> <span class="mf">18264.5</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datetime_from_float_column</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;float_datetime&#39;</span><span class="p">])</span>
<span class="go">array([&#39;2000-01-01T12:00:00&#39;, &#39;2000-01-02T12:00:00&#39;,</span>
<span class="go">       &#39;2000-01-03T12:00:00&#39;], dtype=&#39;datetime64[s]&#39;)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;float_datetime&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">18262.5</span><span class="p">,</span> <span class="mf">18263.5</span><span class="p">,</span> <span class="mf">18264.5</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datetime_from_float_column</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;float_datetime&#39;</span><span class="p">],</span> <span class="n">epoch</span><span class="o">=</span><span class="p">(</span><span class="mi">1970</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">array([&#39;2020-01-01T12:00:00&#39;, &#39;2020-01-02T12:00:00&#39;,</span>
<span class="go">       &#39;2020-01-03T12:00:00&#39;], dtype=&#39;datetime64[s]&#39;)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">18262.5</span><span class="p">,</span> <span class="mf">18263.5</span><span class="p">,</span> <span class="mf">18264.5</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datetime_from_float_column</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">epoch</span><span class="o">=</span><span class="p">(</span><span class="mi">1970</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">array([&#39;2020-01-01T12:00:00&#39;, &#39;2020-01-02T12:00:00&#39;,</span>
<span class="go">       &#39;2020-01-03T12:00:00&#39;], dtype=&#39;datetime64[s]&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.datetime_utils.datetime_from_ymd_cols">
<span class="sig-prename descclassname"><span class="pre">GPSat.datetime_utils.</span></span><span class="sig-name descname"><span class="pre">datetime_from_ymd_cols</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hhmmss</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.datetime_utils.datetime_from_ymd_cols" title="Link to this definition"></a></dt>
<dd><p>Converts separate columns/arrays of year, month, day, and time (in hhmmss format)
into a numpy array of datetime objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>year</strong><span class="classifier">array-like</span></dt><dd><p>An array of integers representing the year.</p>
</dd>
<dt><strong>month</strong><span class="classifier">array-like</span></dt><dd><p>An array of integers representing the month (1-12).</p>
</dd>
<dt><strong>day</strong><span class="classifier">array-like</span></dt><dd><p>An array of integers representing the day of the month.</p>
</dd>
<dt><strong>hhmmss</strong><span class="classifier">array-like</span></dt><dd><p>An array of integers representing the time in hhmmss format.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>datetime</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>An array of datetime objects representing the input dates and times.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If the input arrays are not of equal length.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">year</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">2021</span><span class="p">,</span> <span class="mi">2021</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">month</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">day</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hhmmss</span> <span class="o">=</span> <span class="p">[</span><span class="mi">123456</span><span class="p">,</span> <span class="mi">234537</span><span class="p">,</span> <span class="mi">165648</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datetime_from_ymd_cols</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="p">,</span> <span class="n">hhmmss</span><span class="p">)</span>
<span class="go">array([&#39;2021-01-10T12:34:56&#39;, &#39;2021-02-20T23:45:37&#39;,</span>
<span class="go">       &#39;2021-03-30T16:56:48&#39;], dtype=&#39;datetime64[s]&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.datetime_utils.from_file_start_end_datetime_GPOD">
<span class="sig-prename descclassname"><span class="pre">GPSat.datetime_utils.</span></span><span class="sig-name descname"><span class="pre">from_file_start_end_datetime_GPOD</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.datetime_utils.from_file_start_end_datetime_GPOD" title="Link to this definition"></a></dt>
<dd><p>Extract an implied sequence of evenly spaced time intervals based off of a ‘processed’ GPOD file name</p>
<p>This function takes in a file path and a pandas dataframe as input.
It extracts the start and end datetime from the file name and
calculates the time interval between them.</p>
<p>It then generates a datetime array with the same length as the dataframe,
evenly spaced over the time interval. The resulting datetime array is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>f: str</strong></dt><dd><p>filename</p>
</dd>
<dt><strong>df: pd.DataFrame, pd.Series, np.array, tuple, list</strong></dt><dd><p>the len(df) is used to determine the number and size of the intervals</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>np.array</dt><dd><p>dtype datetime64[ns]</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="s2">&quot;/path/to/S3A_GPOD_SAR__SRA_A__20191031T233355_20191101T002424_2019112_IL_v3.proc&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">11</span><span class="p">)})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">from_file_start_end_datetime_GPOD</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>
<span class="go">array([&#39;2019-10-31T23:33:55.000000000&#39;, &#39;2019-10-31T23:38:57.900000000&#39;,</span>
<span class="go">       &#39;2019-10-31T23:44:00.800000000&#39;, &#39;2019-10-31T23:49:03.700000000&#39;,</span>
<span class="go">       &#39;2019-10-31T23:54:06.600000000&#39;, &#39;2019-10-31T23:59:09.500000000&#39;,</span>
<span class="go">       &#39;2019-11-01T00:04:12.400000000&#39;, &#39;2019-11-01T00:09:15.300000000&#39;,</span>
<span class="go">       &#39;2019-11-01T00:14:18.200000000&#39;, &#39;2019-11-01T00:19:21.100000000&#39;,</span>
<span class="go">       &#39;2019-11-01T00:24:24.000000000&#39;], dtype=&#39;datetime64[ns]&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.datetime_utils.from_file_start_end_datetime_SARAL">
<span class="sig-prename descclassname"><span class="pre">GPSat.datetime_utils.</span></span><span class="sig-name descname"><span class="pre">from_file_start_end_datetime_SARAL</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.datetime_utils.from_file_start_end_datetime_SARAL" title="Link to this definition"></a></dt>
<dd><p>This function takes in a file path to a file and
a pandas dataframe and returns a numpy array of datetime objects.</p>
<p>The file path is expected to be in the format of SARAL data files,
with the datetime information encoded in the file name.
The function extracts the start and end datetime information from the file name,
calculates the time interval between them based on the length of the dataframe, and
generates a numpy array of datetime objects with the same length as the dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>f: str</strong></dt><dd><p>the file path of the SARAL data file</p>
</dd>
<dt><strong>df: pd.DataFrame</strong></dt><dd><p>the data contained in the SARAL data file</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>np.array</dt><dd><p>datetime objects, representing the time stamps of the data in the SARAL data file
with dtype: ‘datetime64[s]’</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="s2">&quot;/path/to/SARAL_C139_0036_20200331_234125_20200401_003143_CS2mss_IL_v1.proc&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">11</span><span class="p">)})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">from_file_start_end_datetime_SARAL</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>
<span class="go">array([&#39;2020-03-31T23:41:25&#39;, &#39;2020-03-31T23:46:26&#39;,</span>
<span class="go">       &#39;2020-03-31T23:51:28&#39;, &#39;2020-03-31T23:56:30&#39;,</span>
<span class="go">       &#39;2020-04-01T00:01:32&#39;, &#39;2020-04-01T00:06:34&#39;,</span>
<span class="go">       &#39;2020-04-01T00:11:35&#39;, &#39;2020-04-01T00:16:37&#39;,</span>
<span class="go">       &#39;2020-04-01T00:21:39&#39;, &#39;2020-04-01T00:26:41&#39;,</span>
<span class="go">       &#39;2020-04-01T00:31:43&#39;], dtype=&#39;datetime64[s]&#39;)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-GPSat.decorators">
<span id="gpsat-decorators-module"></span><h2>GPSat.decorators module<a class="headerlink" href="#module-GPSat.decorators" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="GPSat.decorators.timer">
<span class="sig-prename descclassname"><span class="pre">GPSat.decorators.</span></span><span class="sig-name descname"><span class="pre">timer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.decorators.timer" title="Link to this definition"></a></dt>
<dd><p>This function is a decorator that can be used to time the execution of other functions.</p>
<p>It takes a function as an argument and returns a new function that wraps the original function.</p>
<p>When the wrapped function is called, it measures the time it takes to execute the original function and
prints the result to the console.</p>
<p>The function uses the <cite>time.perf_counter()</cite> function to measure the time.
This function returns the current value of a performance counter, which is a high-resolution timer
that measures the time in seconds since a fixed point in time.</p>
<p>The wrapped function takes any number of positional and keyword arguments,
which are passed on to the original function.
The result of the original function is returned by the wrapped function.</p>
<p>The decorator also uses the <cite>functools.wraps()</cite> function to preserve the metadata of the
original function, such as its name, docstring, and annotations.
This makes it easier to debug and introspect the code.</p>
<p>To use the decorator, simply apply it to the function you want to time, like this:</p>
<p>&#64;timer
def my_function():</p>
</dd></dl>

</section>
<section id="module-GPSat.local_experts">
<span id="gpsat-local-experts-module"></span><h2>GPSat.local_experts module<a class="headerlink" href="#module-GPSat.local_experts" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GPSat.local_experts.</span></span><span class="sig-name descname"><span class="pre">LocalExpertData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obs_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coords_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">global_select</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_select</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_select</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_select</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_funcs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.local_experts.LocalExpertData" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertData.col_funcs">
<span class="sig-name descname"><span class="pre">col_funcs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#GPSat.local_experts.LocalExpertData.col_funcs" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertData.col_select">
<span class="sig-name descname"><span class="pre">col_select</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#GPSat.local_experts.LocalExpertData.col_select" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertData.coords_col">
<span class="sig-name descname"><span class="pre">coords_col</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#GPSat.local_experts.LocalExpertData.coords_col" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertData.data_source">
<span class="sig-name descname"><span class="pre">data_source</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#GPSat.local_experts.LocalExpertData.data_source" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertData.engine">
<span class="sig-name descname"><span class="pre">engine</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#GPSat.local_experts.LocalExpertData.engine" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertData.file_suffix_engine_map">
<span class="sig-name descname"><span class="pre">file_suffix_engine_map</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'csv':</span> <span class="pre">'read_csv',</span> <span class="pre">'h5':</span> <span class="pre">'HDFStore',</span> <span class="pre">'nc':</span> <span class="pre">'netcdf4',</span> <span class="pre">'tsv':</span> <span class="pre">'read_csv',</span> <span class="pre">'zarr':</span> <span class="pre">'zarr'}</span></em><a class="headerlink" href="#GPSat.local_experts.LocalExpertData.file_suffix_engine_map" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertData.global_select">
<span class="sig-name descname"><span class="pre">global_select</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#GPSat.local_experts.LocalExpertData.global_select" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertData.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.local_experts.LocalExpertData.load" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertData.local_select">
<span class="sig-name descname"><span class="pre">local_select</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#GPSat.local_experts.LocalExpertData.local_select" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertData.obs_col">
<span class="sig-name descname"><span class="pre">obs_col</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#GPSat.local_experts.LocalExpertData.obs_col" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertData.read_kwargs">
<span class="sig-name descname"><span class="pre">read_kwargs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#GPSat.local_experts.LocalExpertData.read_kwargs" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertData.row_select">
<span class="sig-name descname"><span class="pre">row_select</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#GPSat.local_experts.LocalExpertData.row_select" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertData.set_data_source">
<span class="sig-name descname"><span class="pre">set_data_source</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.local_experts.LocalExpertData.set_data_source" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertData.table">
<span class="sig-name descname"><span class="pre">table</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#GPSat.local_experts.LocalExpertData.table" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertData.where">
<span class="sig-name descname"><span class="pre">where</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#GPSat.local_experts.LocalExpertData.where" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertOI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GPSat.local_experts.</span></span><span class="sig-name descname"><span class="pre">LocalExpertOI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expert_loc_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="config_classes.html#GPSat.config_dataclasses.ExpertLocsConfig" title="GPSat.config_dataclasses.ExpertLocsConfig"><span class="pre">ExpertLocsConfig</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="config_classes.html#GPSat.config_dataclasses.DataConfig" title="GPSat.config_dataclasses.DataConfig"><span class="pre">DataConfig</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="config_classes.html#GPSat.config_dataclasses.ModelConfig" title="GPSat.config_dataclasses.ModelConfig"><span class="pre">ModelConfig</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_loc_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="config_classes.html#GPSat.config_dataclasses.PredictionLocsConfig" title="GPSat.config_dataclasses.PredictionLocsConfig"><span class="pre">PredictionLocsConfig</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_expert_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="config_classes.html#GPSat.config_dataclasses.ExperimentConfig" title="GPSat.config_dataclasses.ExperimentConfig"><span class="pre">ExperimentConfig</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.local_experts.LocalExpertOI" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This provides the main interface for conducting an experiment in <code class="docutils literal notranslate"><span class="pre">GPSat</span></code> to predict
an underlying field from satellite measurements using local Gaussian process (GP) models.</p>
<p>This proceeds by iterating over the local expert locations, training the local GPs on data
in a neighbourhood of the expert location and making predictions on specified locations.
The results will be saved in an HDF5 file.</p>
<p>Example usage:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">store_path</span> <span class="o">=</span> <span class="s2">&quot;/path/to/store.h5&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">locexp</span> <span class="o">=</span> <span class="n">LocalExpertOI</span><span class="p">(</span><span class="n">data_config</span><span class="p">,</span> <span class="n">model_config</span><span class="p">,</span> <span class="n">expert_loc_config</span><span class="p">,</span> <span class="n">pred_loc_config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">locexp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">store_path</span><span class="o">=</span><span class="n">store_path</span><span class="p">)</span> <span class="c1"># Run full sweep and save results in store_path</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertOI.dict_of_array_to_table">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dict_of_array_to_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_loc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.local_experts.LocalExpertOI.dict_of_array_to_table" title="Link to this definition"></a></dt>
<dd><p>given a dictionary of numpy arrays create DataFrame(s) with ref_loc as the multi index</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertOI.file_suffix_engine_map">
<span class="sig-name descname"><span class="pre">file_suffix_engine_map</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'csv':</span> <span class="pre">'read_csv',</span> <span class="pre">'h5':</span> <span class="pre">'HDFStore',</span> <span class="pre">'nc':</span> <span class="pre">'netcdf4',</span> <span class="pre">'tsv':</span> <span class="pre">'read_csv',</span> <span class="pre">'zarr':</span> <span class="pre">'zarr'}</span></em><a class="headerlink" href="#GPSat.local_experts.LocalExpertOI.file_suffix_engine_map" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertOI.load_params">
<span class="sig-name descname"><span class="pre">load_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">previous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">previous_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_loc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_adjust</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">param_dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.local_experts.LocalExpertOI.load_params" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertOI.plot_locations_and_obs">
<span class="sig-name descname"><span class="pre">plot_locations_and_obs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lat'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lon'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exprt_lon_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lon'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exprt_lat_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lat'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'date'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_funcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xrpt_loc_col_funcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s_exprt_loc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">250</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cbar_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Input</span> <span class="pre">Observations'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'YlGnBu_r'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(15,</span> <span class="pre">15)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">projection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.local_experts.LocalExpertOI.plot_locations_and_obs" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertOI.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">store_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">store_every</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_config_compatible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_valid_checks_on</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">predict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_obs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.local_experts.LocalExpertOI.run" title="Link to this definition"></a></dt>
<dd><p>Run a full sweep to perform local optimal interpolation at every expert location.
The results will be stored in an HDF5 file containing (1) the predictions at each location,
(2) parameters of the model at each location, (3) run details such as run times, and
(4) the full experiment configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>store_path: str</strong></dt><dd><p>File path where results should be stored as HDF5 file.</p>
</dd>
<dt><strong>store_every: int, default 10</strong></dt><dd><p>Results will be stored to file after every <code class="docutils literal notranslate"><span class="pre">store_every</span> <span class="pre">expert</span></code> locations.
Reduce if optimisation is slow, must be greater than 1.</p>
</dd>
<dt><strong>check_config_compatible: bool, default True</strong></dt><dd><p>Check if current <code class="docutils literal notranslate"><span class="pre">LocalExpertOI</span></code> configuration is compatible
with previous, if applicable. If file exists in <code class="docutils literal notranslate"><span class="pre">store_path</span></code>, it will check the <code class="docutils literal notranslate"><span class="pre">oi_config</span></code> attribute in the
<code class="docutils literal notranslate"><span class="pre">oi_config</span></code> table to ensure that configurations are compatible.</p>
</dd>
<dt><strong>skip_valid_checks_on: list, optional</strong></dt><dd><p>When checking if config is compatible, skip keys specified in this list.</p>
</dd>
<dt><strong>optimise: bool, default True</strong></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, will run <code class="docutils literal notranslate"><span class="pre">model.optimise_parameters()</span></code> to learn the model parameters at each expert location.</p>
</dd>
<dt><strong>predict: bool, default True</strong></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, will run <code class="docutils literal notranslate"><span class="pre">model.predict()</span></code> to make predictions at the locations specified in
the prediction locations configuration.</p>
</dd>
<dt><strong>min_obs: int, default 3</strong></dt><dd><p>Minimum number observations required to run optimisation or make predictions.</p>
</dd>
<dt><strong>table_suffix: str, optional</strong></dt><dd><p>Suffix to be appended to all table names when writing to file.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>None</dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>By default, both training and inference are performed at every location.
However one can opt to do either one with the <code class="docutils literal notranslate"><span class="pre">optimise</span></code> and <code class="docutils literal notranslate"><span class="pre">predict</span></code> options, respectively.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">check_config_compatible</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, it makes sure that all results saved to <code class="docutils literal notranslate"><span class="pre">store_path</span></code>
use the same configurations. That is, if one re-runs an experiment with a different configuration but pointing to
the same <code class="docutils literal notranslate"><span class="pre">store_path</span></code>, it will return an error. Make sure that if you run an experiment with a different configuration,
either set a different <code class="docutils literal notranslate"><span class="pre">store_path</span></code>, or if you want to override the results, delete the generated <code class="docutils literal notranslate"><span class="pre">store_path</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">table_suffix</span></code> is useful for storing multiple results in a single HDF5 file, each with a different suffix.
See &lt;hyperparameter smoothing&gt; for an example use case.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertOI.set_data">
<span class="sig-name descname"><span class="pre">set_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.local_experts.LocalExpertOI.set_data" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertOI.set_expert_locations">
<span class="sig-name descname"><span class="pre">set_expert_locations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_data_to_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_funcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.local_experts.LocalExpertOI.set_expert_locations" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertOI.set_model">
<span class="sig-name descname"><span class="pre">set_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oi_model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constraints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optim_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_to_store</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replacement_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replacement_model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replacement_init_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replacement_constraints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replacement_optim_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replacement_pred_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.local_experts.LocalExpertOI.set_model" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.local_experts.LocalExpertOI.set_pred_loc">
<span class="sig-name descname"><span class="pre">set_pred_loc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.local_experts.LocalExpertOI.set_pred_loc" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.local_experts.get_results_from_h5file">
<span class="sig-prename descclassname"><span class="pre">GPSat.local_experts.</span></span><span class="sig-name descname"><span class="pre">get_results_from_h5file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">results_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">global_col_funcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge_on_expert_locations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select_tables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_suffix_to_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.local_experts.get_results_from_h5file" title="Link to this definition"></a></dt>
<dd><p>Retrieve results from an HDF5 file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>results_file: str</strong></dt><dd><p>The location where the results file is saved. Must point to a HDF5 file with the file extension <code class="docutils literal notranslate"><span class="pre">.h5</span></code>.</p>
</dd>
<dt><strong>select_tables: list, optional</strong></dt><dd><p>A list of table names to select from the HDF5 file.</p>
</dd>
<dt><strong>global_col_funcs: dict, optional</strong></dt><dd><p>A dictionary of column functions to apply to selected tables.</p>
</dd>
<dt><strong>merge_on_expert_locations: bool, default True</strong></dt><dd><p>Whether to merge expert location data with results data.</p>
</dd>
<dt><strong>table_suffix: str, optional</strong></dt><dd><p>A suffix to add to selected table names.</p>
</dd>
<dt><strong>add_suffix_to_table: bool, default True</strong></dt><dd><p>Whether to add the table suffix to selected table names.</p>
</dd>
<dt><strong>verbose: bool, default False</strong></dt><dd><p>Set verbosity.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>tuple:</dt><dd><p>A tuple containing two elements:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dict</span></code>: A dictionary of DataFrames where each table name is the key.             This contains the predictions and learned model parameters at every location.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">list</span></code>: A list of configuration dictionaries.</p></li>
</ol>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This function reads data from an HDF5 file, applies optional column functions, and optionally merges
expert location data with results data.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">'select_tables'</span></code> parameter allows you to choose specific tables from the HDF5 file.</p></li>
<li><p>Column functions specified in <code class="docutils literal notranslate"><span class="pre">'global_col_funcs'</span></code> can be applied to selected tables.</p></li>
<li><p>Expert location data can be merged onto results data if <code class="docutils literal notranslate"><span class="pre">'merge_on_expert_locations'</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-GPSat.plot_utils">
<span id="gpsat-plot-utils-module"></span><h2>GPSat.plot_utils module<a class="headerlink" href="#module-GPSat.plot_utils" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="GPSat.plot_utils.get_projection">
<span class="sig-prename descclassname"><span class="pre">GPSat.plot_utils.</span></span><span class="sig-name descname"><span class="pre">get_projection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">projection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.plot_utils.get_projection" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.plot_utils.plot_gpflow_minimal_example">
<span class="sig-prename descclassname"><span class="pre">GPSat.plot_utils.</span></span><span class="sig-name descname"><span class="pre">plot_gpflow_minimal_example</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_init</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opt_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">object</span></span></span><a class="headerlink" href="#GPSat.plot_utils.plot_gpflow_minimal_example" title="Link to this definition"></a></dt>
<dd><p>Run a basic usage example for a given model.
Model will be initialised, parameters will be optimised and predictions will be made
for the minimal model example found (as of 2023-05-04):</p>
<p><a class="reference external" href="https://gpflow.github.io/GPflow/2.8.0/notebooks/getting_started/basic_usage.html">https://gpflow.github.io/GPflow/2.8.0/notebooks/getting_started/basic_usage.html</a></p>
<p>Methods called are: optimise_parameters, predict, get_parameters</p>
<p>Predict expected to return a dict with ‘f*’, ‘f*_var’ and ‘y_var’ as np.arrays</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>model: any model inherited from BaseGPRModel</strong></dt><dd></dd>
<dt><strong>model_init: dict or None, default None</strong></dt><dd><p>dict of parameters to be provided when model is initialised. If None default parameters are used</p>
</dd>
<dt><strong>opt_params: dict or None, default None</strong></dt><dd><p>dict of parameters to be passed to optimise_parameter method. If None default parameters are used</p>
</dd>
<dt><strong>pred_params: dict or None, default None</strong></dt><dd><p>dict of parameters to be passed to predict method. If None default parameters are used</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>tuple:</dt><dd><p>predictions dict
parameters dict</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.plot_utils.plot_hist">
<span class="sig-prename descclassname"><span class="pre">GPSat.plot_utils.</span></span><span class="sig-name descname"><span class="pre">plot_hist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Histogram</span> <span class="pre">/</span> <span class="pre">Density'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylabel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlabel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select_bool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stats_values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stats_loc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.2,</span> <span class="pre">0.9)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_nan_inf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_vminmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rasterized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.plot_utils.plot_hist" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.plot_utils.plot_hist_from_results_data">
<span class="sig-prename descclassname"><span class="pre">GPSat.plot_utils.</span></span><span class="sig-name descname"><span class="pre">plot_hist_from_results_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dfs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.plot_utils.plot_hist_from_results_data" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.plot_utils.plot_hyper_parameters">
<span class="sig-prename descclassname"><span class="pre">GPSat.plot_utils.</span></span><span class="sig-name descname"><span class="pre">plot_hyper_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dfs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coords_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plots_per_row</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suptitle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'hyper</span> <span class="pre">params'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qvmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qvmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.99</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.plot_utils.plot_hyper_parameters" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.plot_utils.plot_pcolormesh">
<span class="sig-prename descclassname"><span class="pre">GPSat.plot_utils.</span></span><span class="sig-name descname"><span class="pre">plot_pcolormesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qvmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qvmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'YlGnBu_r'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cbar_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scatter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ocean_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">scatter_args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.plot_utils.plot_pcolormesh" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.plot_utils.plot_pcolormesh_from_results_data">
<span class="sig-prename descclassname"><span class="pre">GPSat.plot_utils.</span></span><span class="sig-name descname"><span class="pre">plot_pcolormesh_from_results_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dfs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">90</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weighted_values_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.plot_utils.plot_pcolormesh_from_results_data" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.plot_utils.plot_wrapper">
<span class="sig-prename descclassname"><span class="pre">GPSat.plot_utils.</span></span><span class="sig-name descname"><span class="pre">plot_wrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plt_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lon'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lat'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scatter_plot_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plt_where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">projection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_obs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_vminmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abs_vminmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stats_loc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where_sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n</span> <span class="pre">'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.plot_utils.plot_wrapper" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.plot_utils.plot_xy">
<span class="sig-prename descclassname"><span class="pre">GPSat.plot_utils.</span></span><span class="sig-name descname"><span class="pre">plot_xy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xtick_rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">45</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scatter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.plot_utils.plot_xy" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.plot_utils.plot_xy_from_results_data">
<span class="sig-prename descclassname"><span class="pre">GPSat.plot_utils.</span></span><span class="sig-name descname"><span class="pre">plot_xy_from_results_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dfs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.plot_utils.plot_xy_from_results_data" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.plot_utils.plots_from_config">
<span class="sig-prename descclassname"><span class="pre">GPSat.plot_utils.</span></span><span class="sig-name descname"><span class="pre">plots_from_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plot_configs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dfs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plots_per_row</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_plots_row_col_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suptitle</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.plot_utils.plots_from_config" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-GPSat.postprocessing">
<span id="gpsat-postprocessing-module"></span><h2>GPSat.postprocessing module<a class="headerlink" href="#module-GPSat.postprocessing" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="GPSat.postprocessing.SmoothingConfig">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GPSat.postprocessing.</span></span><span class="sig-name descname"><span class="pre">SmoothingConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l_x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l_y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.postprocessing.SmoothingConfig" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configuration used for hyperparameter smoothing.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>l_x: int or float, default 1</strong></dt><dd><p>The lengthscale (x-direction) parameter for Gaussian smoothing.</p>
</dd>
<dt><strong>l_y: int or float, default 1</strong></dt><dd><p>The lengthscale (y-direction) parameter for Gaussian smoothing.</p>
</dd>
<dt><strong>max: int or float, optional</strong></dt><dd><p>Maximal value that the hyperparameter can take.</p>
</dd>
<dt><strong>min: int or float, optional</strong></dt><dd><p>Minimal value that the hyperparameter can take.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This configuration is used to smooth 2D hyperparameter fields.</p>
<dl class="py method">
<dt class="sig sig-object py" id="GPSat.postprocessing.SmoothingConfig.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.postprocessing.SmoothingConfig.get" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GPSat.postprocessing.SmoothingConfig.l_x">
<span class="sig-name descname"><span class="pre">l_x</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#GPSat.postprocessing.SmoothingConfig.l_x" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GPSat.postprocessing.SmoothingConfig.l_y">
<span class="sig-name descname"><span class="pre">l_y</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#GPSat.postprocessing.SmoothingConfig.l_y" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GPSat.postprocessing.SmoothingConfig.max">
<span class="sig-name descname"><span class="pre">max</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#GPSat.postprocessing.SmoothingConfig.max" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GPSat.postprocessing.SmoothingConfig.min">
<span class="sig-name descname"><span class="pre">min</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#GPSat.postprocessing.SmoothingConfig.min" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.postprocessing.get_smooth_params_config">
<span class="sig-prename descclassname"><span class="pre">GPSat.postprocessing.</span></span><span class="sig-name descname"><span class="pre">get_smooth_params_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.postprocessing.get_smooth_params_config" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.postprocessing.glue_local_predictions">
<span class="sig-prename descclassname"><span class="pre">GPSat.postprocessing.</span></span><span class="sig-name descname"><span class="pre">glue_local_predictions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">preds_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inference_radius</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">R</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#GPSat.postprocessing.glue_local_predictions" title="Link to this definition"></a></dt>
<dd><p>DEPRECATED. See <code class="docutils literal notranslate"><span class="pre">glue_local_predictions_1d</span></code> and <code class="docutils literal notranslate"><span class="pre">glue_local_predictions_2d</span></code>.
Glues overlapping predictions by taking a normalised Gaussian weighted average.</p>
<p>WARNING: This method only deals with expert locations on a regular grid</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>preds_df: pd.DataFrame</strong></dt><dd><p>containing predictions generated from local expert OI. It should have the following columns:
- pred_loc_x (float): The x-coordinate of the prediction location.
- pred_loc_y (float): The y-coordinate of the prediction location.
- f* (float): The predictive mean at the location (pred_loc_x, pred_loc_y).
- f*_var (float): The predictive variance at the location (pred_loc_x, pred_loc_y).</p>
</dd>
<dt><strong>expert_locs_df: pd.DataFrame</strong></dt><dd><p>containing local expert locations used to perform OI. It should have the following columns:
- x (float): The x-coordinate of the expert location.
- y (float): The y-coordinate of the expert location.</p>
</dd>
<dt><strong>sigma: int, float, or list, default 3</strong></dt><dd><p>The standard deviation of the Gaussian weighting in the x and y directions.
If a single value is provided, it is used for both directions.
If a list is provided, the first value is used for the x direction and the second value is used for the y direction. Defaults to 3.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>pd.DataFrame:</dt><dd><p>dataframe consisting of glued predictions (mean and std). It has the following columns:
- pred_loc_x (float): The x-coordinate of the prediction location.
- pred_loc_y (float): The y-coordinate of the prediction location.
- f* (float): The glued predictive mean at the location (pred_loc_x, pred_loc_y).
- f*_std (float): The glued predictive standard deviation at the location (pred_loc_x, pred_loc_y).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The function assumes that the expert locations are equally spaced in both the x and y directions.
The function uses the scipy.stats.norm.pdf function to compute the Gaussian weights.
The function normalizes the weighted sums with the total weights at each location.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.postprocessing.glue_local_predictions_1d">
<span class="sig-prename descclassname"><span class="pre">GPSat.postprocessing.</span></span><span class="sig-name descname"><span class="pre">glue_local_predictions_1d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">preds_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_loc_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xprt_loc_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vars_to_glue</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inference_radius</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">R</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#GPSat.postprocessing.glue_local_predictions_1d" title="Link to this definition"></a></dt>
<dd><p>Glues together overlapping local expert predictions in 1D by Gaussian-weighted averaging.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>preds_df: pandas dataframe</strong></dt><dd><p>A dataframe containing the results of local experts predictions.
The dataframe should have columns containing the (1) prediction locations,
(2) expert locations, and (3) any predicted variables we wish to glue (e.g. the predictive mean).</p>
</dd>
<dt><strong>pred_loc_col: str</strong></dt><dd><p>The column in the results dataframe corresponding to the prediction locations</p>
</dd>
<dt><strong>xprt_loc_col: str</strong></dt><dd><p>The column in the results dataframe corresponding to the local expert locations</p>
</dd>
<dt><strong>vars_to_glue: str | list of strs</strong></dt><dd><p>The column(s) corresponding to variables we wish to glue (e.g. the predictive mean and variance).</p>
</dd>
<dt><strong>inference_radius: int | float | dict</strong></dt><dd><p>The inference radius for each local experts. If specified as a dict, the keys should be the 
expert locations and the corresponding values should be the corresponding inference radius of that expert.
If specified as an int or float, it assumes that all experts have the same inference radius.</p>
</dd>
<dt><strong>R: int | float, default 3</strong></dt><dd><p>A weight controlling the standard deviation of the Gaussian weights. The standard deviation will be given by
the formula <code class="docutils literal notranslate"><span class="pre">std</span> <span class="pre">=</span> <span class="pre">inference_radius</span> <span class="pre">/</span> <span class="pre">R</span></code>. The default value of 3 will place 99% of the Gaussian mass
within the inference radius.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>pandas dataframe</dt><dd><p>A dataframe of glued predictions, whose columns contain (1) the prediction locations and (2) the glued variables.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.postprocessing.glue_local_predictions_2d">
<span class="sig-prename descclassname"><span class="pre">GPSat.postprocessing.</span></span><span class="sig-name descname"><span class="pre">glue_local_predictions_2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">preds_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_loc_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xprt_loc_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vars_to_glue</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inference_radius</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">R</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#GPSat.postprocessing.glue_local_predictions_2d" title="Link to this definition"></a></dt>
<dd><p>Glues together overlapping local expert predictions in 2D by Gaussian-weighted averaging.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>preds_df: pandas dataframe</strong></dt><dd><p>A dataframe containing the results of local experts predictions.
The dataframe should have columns containing the (1) prediction locations,
(2) expert locations, and (3) any predicted variables we wish to glue (e.g. the predictive mean).</p>
</dd>
<dt><strong>pred_loc_col: list of strs</strong></dt><dd><p>The xy-columns in the results dataframe corresponding to the prediction locations</p>
</dd>
<dt><strong>xprt_loc_cols: list of strs</strong></dt><dd><p>The xy-columns in the results dataframe corresponding to the local expert locations</p>
</dd>
<dt><strong>vars_to_glue: str | list of strs</strong></dt><dd><p>The column(s) corresponding to variables we wish to glue (e.g. the predictive mean and variance).</p>
</dd>
<dt><strong>inference_radius: int | float</strong></dt><dd><p>The inference radius for each local experts. We assume that all experts have the same inference radius.</p>
</dd>
<dt><strong>R: int | float, default 3</strong></dt><dd><p>A weight controlling the standard deviation of the Gaussian weights. The standard deviation will be given by
the formula <code class="docutils literal notranslate"><span class="pre">std</span> <span class="pre">=</span> <span class="pre">inference_radius</span> <span class="pre">/</span> <span class="pre">R</span></code>. The default value of 3 will place 99% of the Gaussian mass
within the inference radius.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>pandas dataframe</dt><dd><p>A dataframe of glued predictions, whose columns contain (1) the prediction locations and (2) the glued variables.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.postprocessing.smooth_hyperparameters">
<span class="sig-prename descclassname"><span class="pre">GPSat.postprocessing.</span></span><span class="sig-name descname"><span class="pre">smooth_hyperparameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_to_smooth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smooth_config_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="postprocessing.html#GPSat.postprocessing.SmoothingConfig" title="GPSat.postprocessing.SmoothingConfig"><span class="pre">SmoothingConfig</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xy_dims</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">['x',</span> <span class="pre">'y']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_table_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'_SMOOTHED'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_config_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.postprocessing.smooth_hyperparameters" title="Link to this definition"></a></dt>
<dd><p>Smooth hyperparameters in an HDF5 results file using Gaussian smoothing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>result_file: str</strong></dt><dd><p>The path to the HDF5 results file.</p>
</dd>
<dt><strong>params_to_smooth: list of str</strong></dt><dd><p>A list of hyperparameters to be smoothed.</p>
</dd>
<dt><strong>smooth_config_dict: Dict[str, SmoothingConfig]</strong></dt><dd><p>A dictionary specifying smoothing configurations for each hyperparameter. This should be a dictionary         where keys are hyperparameter names, and values are instances of the         <a class="reference internal" href="postprocessing.html#GPSat.postprocessing.SmoothingConfig" title="GPSat.postprocessing.SmoothingConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">SmoothingConfig</span></code></a> class specifying smoothing parameters.</p>
</dd>
<dt><strong>xy_dims: list of str, default [‘x’, ‘y’]</strong></dt><dd><p>The dimensions to use for smoothing (default: <code class="docutils literal notranslate"><span class="pre">['x',</span> <span class="pre">'y']</span></code>).</p>
</dd>
<dt><strong>reference_table_suffix: str, default “”</strong></dt><dd><p>The suffix to use for reference table names (default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>).</p>
</dd>
<dt><strong>table_suffix: str, default “_SMOOTHED”</strong></dt><dd><p>The suffix to add to smoothed hyperparameter table names (default: <code class="docutils literal notranslate"><span class="pre">&quot;_SMOOTHED&quot;</span></code>).</p>
</dd>
<dt><strong>output_file: str, optional</strong></dt><dd><p>The path to the output HDF5 file to store smoothed hyperparameters.</p>
</dd>
<dt><strong>model_name: str, optional</strong></dt><dd><p>The name of the model for which hyperparameters are being smoothed.</p>
</dd>
<dt><strong>save_config_file: bool, optional</strong></dt><dd><p>Whether to save a configuration file for making predictions with smoothed values.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>None</dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This function applies Gaussian smoothing to specified hyperparameters in an HDF5 results file.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">output_file</span></code> parameter allows you to specify a different output file for storing the smoothed hyperparameters.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">model_name</span></code> is not provided, it will be determined from the input HDF5 file.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">save_config_file</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, a configuration file for making predictions with smoothed values will be saved.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-GPSat.prediction_locations">
<span id="gpsat-prediction-locations-module"></span><h2>GPSat.prediction_locations module<a class="headerlink" href="#module-GPSat.prediction_locations" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="GPSat.prediction_locations.PredictionLocations">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GPSat.prediction_locations.</span></span><span class="sig-name descname"><span class="pre">PredictionLocations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'expert_loc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coords_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expert_loc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.prediction_locations.PredictionLocations" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py property">
<dt class="sig sig-object py" id="GPSat.prediction_locations.PredictionLocations.coords_col">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">coords_col</span></span><a class="headerlink" href="#GPSat.prediction_locations.PredictionLocations.coords_col" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GPSat.prediction_locations.PredictionLocations.expert_loc">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">expert_loc</span></span><a class="headerlink" href="#GPSat.prediction_locations.PredictionLocations.expert_loc" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-GPSat.read_and_store">
<span id="gpsat-read-and-store-module"></span><h2>GPSat.read_and_store module<a class="headerlink" href="#module-GPSat.read_and_store" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="GPSat.read_and_store.get_dirs_to_search">
<span class="sig-prename descclassname"><span class="pre">GPSat.read_and_store.</span></span><span class="sig-name descname"><span class="pre">get_dirs_to_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_dirs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sub_dirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">walk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.read_and_store.get_dirs_to_search" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.read_and_store.update_attr">
<span class="sig-prename descclassname"><span class="pre">GPSat.read_and_store.</span></span><span class="sig-name descname"><span class="pre">update_attr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vals</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.read_and_store.update_attr" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-GPSat.utils">
<span id="gpsat-utils-module"></span><h2>GPSat.utils module<a class="headerlink" href="#module-GPSat.utils" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.EASE2toWGS84">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">EASE2toWGS84</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_vals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'both'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">90</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.EASE2toWGS84" title="Link to this definition"></a></dt>
<dd><p>Converts EASE2 grid coordinates to WGS84 longitude and latitude coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x: float</strong></dt><dd><p>EASE2 grid x-coordinate in meters.</p>
</dd>
<dt><strong>y: float</strong></dt><dd><p>EASE2 grid y-coordinate in meters.</p>
</dd>
<dt><strong>return_vals: str, optional</strong></dt><dd><p>Determines what values to return. Valid options are <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code> (default), <code class="docutils literal notranslate"><span class="pre">&quot;lon&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;lat&quot;</span></code>.</p>
</dd>
<dt><strong>lon_0: float, optional</strong></dt><dd><p>Longitude of the center of the EASE2 grid in degrees. Default is <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</dd>
<dt><strong>lat_0: float, optional</strong></dt><dd><p>Latitude of the center of the EASE2 grid in degrees. Default is <code class="docutils literal notranslate"><span class="pre">90</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>tuple or float</dt><dd><p>Depending on the value of <code class="docutils literal notranslate"><span class="pre">return_vals</span></code>, either a tuple of WGS84 longitude and latitude coordinates (both floats),
or a single float representing either the longitude or latitude.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">return_vals</span></code> is not one of the valid options.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">EASE2toWGS84</span><span class="p">(</span><span class="mi">1000000</span><span class="p">,</span> <span class="mi">2000000</span><span class="p">)</span>
<span class="go">(153.434948822922, 69.86894542225777)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.EASE2toWGS84_New">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">EASE2toWGS84_New</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.EASE2toWGS84_New" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.WGS84toEASE2">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">WGS84toEASE2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_vals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'both'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">90</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.WGS84toEASE2" title="Link to this definition"></a></dt>
<dd><p>Converts WGS84 longitude and latitude coordinates to EASE2 grid coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>lon</strong><span class="classifier">float</span></dt><dd><p>Longitude coordinate in decimal degrees.</p>
</dd>
<dt><strong>lat</strong><span class="classifier">float</span></dt><dd><p>Latitude coordinate in decimal degrees.</p>
</dd>
<dt><strong>return_vals</strong><span class="classifier">str, optional</span></dt><dd><p>Determines what values to return. Valid options are <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code> (default), <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code>.</p>
</dd>
<dt><strong>lon_0</strong><span class="classifier">float, optional</span></dt><dd><p>Longitude of the center of the EASE2 grid in decimal degrees. Default is <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</dd>
<dt><strong>lat_0</strong><span class="classifier">float, optional</span></dt><dd><p>Latitude of the center of the EASE2 grid in decimal degrees. Default is <code class="docutils literal notranslate"><span class="pre">90</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>float</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">return_vals</span></code> is <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code>. Returns the x EASE2 grid coordinate in meters.</p>
</dd>
<dt>float</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">return_vals</span></code> is <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code>. Returns the y EASE2 grid coordinate in meters</p>
</dd>
<dt>tuple of float</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">return_vals</span></code> is <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code>. Returns a tuple of (x, y) EASE2 grid coordinates in meters.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">return_vals</span></code> is not one of the valid options.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">WGS84toEASE2</span><span class="p">(</span><span class="o">-</span><span class="mf">105.01621</span><span class="p">,</span> <span class="mf">39.57422</span><span class="p">)</span>
<span class="go">(-5254767.014984061, 1409604.1043472202)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.WGS84toEASE2_New">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">WGS84toEASE2_New</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.WGS84toEASE2_New" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.array_to_dataframe">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">array_to_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'_dim_'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.array_to_dataframe" title="Link to this definition"></a></dt>
<dd><p>Converts a numpy array to a pandas DataFrame with a multi-index based on the array’s dimensions.</p>
<p>(Also see <a class="reference internal" href="utils.html#GPSat.utils.dataframe_to_array" title="GPSat.utils.dataframe_to_array"><code class="xref py py-func docutils literal notranslate"><span class="pre">dataframe_to_array</span></code></a>)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x</strong><span class="classifier">np.ndarray</span></dt><dd><p>The numpy array to be converted to a DataFrame.</p>
</dd>
<dt><strong>name</strong><span class="classifier">str</span></dt><dd><p>The name of the column in the resulting DataFrame.</p>
</dd>
<dt><strong>dim_prefix</strong><span class="classifier">str, optional</span></dt><dd><p>The prefix to be used for the dimension names in the multi-index. Default is <code class="docutils literal notranslate"><span class="pre">&quot;_dim_&quot;</span></code>.
Integers will be appended to <code class="docutils literal notranslate"><span class="pre">dim_prefix</span></code> for each dimension of <code class="docutils literal notranslate"><span class="pre">x</span></code>, i.e.
if <code class="docutils literal notranslate"><span class="pre">x</span></code> is 2d, it will have dimension names <code class="docutils literal notranslate"><span class="pre">&quot;_dim_0&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;_dim_1&quot;</span></code>, assuming default <code class="docutils literal notranslate"><span class="pre">dim_prefix</span></code> is used.</p>
</dd>
<dt><strong>reset_index</strong><span class="classifier">bool, optional</span></dt><dd><p>Whether to reset the index of the resulting DataFrame. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>The resulting DataFrame with a multi-index based on the dimensions of the input array.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If the input is not a numpy array.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># express a 2d numpy array in DataFrame</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array_to_dataframe</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">)</span>
<span class="go">                data</span>
<span class="go">_dim_0 _dim_1</span>
<span class="go">0      0        1</span>
<span class="go">       1        2</span>
<span class="go">1      0        3</span>
<span class="go">       1        4</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.assign_category_col">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">assign_category_col</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.assign_category_col" title="Link to this definition"></a></dt>
<dd><p>Generate categorical <code class="docutils literal notranslate"><span class="pre">pd.Series</span></code> equal in length to a reference DataFrame (<code class="docutils literal notranslate"><span class="pre">df</span></code>)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>val</strong><span class="classifier">str</span></dt><dd><p>The value to assign to the categorical Series.</p>
</dd>
<dt><strong>df</strong><span class="classifier">pandas DataFrame</span></dt><dd><p>reference DataFrame, used to determine length of output</p>
</dd>
<dt><strong>categories</strong><span class="classifier">list, optional</span></dt><dd><p>A list of categories to be used for the categorical column.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>pandas Categorical Series</dt><dd><p>A categorical column with the assigned value and specified categories (if provided).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This function creates a new categorical column in the DataFrame with the specified value and categories. If categories are not provided,
they will be inferred from the data. The function returns a pandas Categorical object representing the new column.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x_series</span> <span class="o">=</span> <span class="n">assign_category_col</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.bin_obs_by_date">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">bin_obs_by_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'date'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_dates_in_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_col_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%Y%m%d'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-4500000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4500000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-4500000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4500000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_statistic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.bin_obs_by_date" title="Link to this definition"></a></dt>
<dd><p>This function takes in a pandas DataFrame and bins the data based on the values in a specified column and the x and y coordinates in
other specified columns. The data is binned based on a grid with a specified resolution or number of bins. The function returns a
dictionary of binned values for each unique date in the DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df: pandas DataFrame</strong></dt><dd><p>A DataFrame containing the data to be binned.</p>
</dd>
<dt><strong>val_col: string</strong></dt><dd><p>Name of the column containing the values to be binned.</p>
</dd>
<dt><strong>date_col: string, default “date”</strong></dt><dd><p>Name of the column containing the dates for which to bin the data.</p>
</dd>
<dt><strong>all_dates_in_range: boolean, default True</strong></dt><dd><p>Whether to include all dates in the range of the DataFrame.</p>
</dd>
<dt><strong>x_col: string, default “x”</strong></dt><dd><p>Name of the column containing the x coordinates.</p>
</dd>
<dt><strong>y_col: string, default “y”</strong></dt><dd><p>Name of the column containing the y coordinates.</p>
</dd>
<dt><strong>grid_res: float or int, default None</strong></dt><dd><p>Resolution of the grid in kilometers. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then <code class="docutils literal notranslate"><span class="pre">n_x</span></code> and <code class="docutils literal notranslate"><span class="pre">n_y</span></code> must be specified.</p>
</dd>
<dt><strong>date_col_format: string, default “%Y%m%d”</strong></dt><dd><p>Format of the date column.</p>
</dd>
<dt><strong>x_min: float, default -4500000.0</strong></dt><dd><p>Minimum x value for the grid.</p>
</dd>
<dt><strong>x_max: float, default 4500000.0</strong></dt><dd><p>Maximum x value for the grid.</p>
</dd>
<dt><strong>y_min: float, default -4500000.0</strong></dt><dd><p>Minimum y value for the grid.</p>
</dd>
<dt><strong>y_max: float, default 4500000.0</strong></dt><dd><p>Maximum y value for the grid.</p>
</dd>
<dt><strong>n_x: int, default None</strong></dt><dd><p>Number of bins in the x direction.</p>
</dd>
<dt><strong>n_y: int, default None</strong></dt><dd><p>Number of bins in the y direction.</p>
</dd>
<dt><strong>bin_statistic: string or callable, default “mean”</strong></dt><dd><p>Statistic to compute in each bin.</p>
</dd>
<dt><strong>verbose: boolean, default False</strong></dt><dd><p>Whether to print additional information during execution.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>bvals: dictionary</dt><dd><p>The binned values for each unique date in the DataFrame.</p>
</dd>
<dt>x_edge: numpy array</dt><dd><p>x values for the edges of the bins.</p>
</dd>
<dt>y_edge: numpy array</dt><dd><p>y values for the edges of the bins.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The x and y coordinates are swapped in the returned binned values due to the transpose operation used in the function.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.check_prev_oi_config">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">check_prev_oi_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prev_oi_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oi_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_valid_checks_on</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.check_prev_oi_config" title="Link to this definition"></a></dt>
<dd><p>This function checks if the previous configuration matches the current one.
It takes in two dictionaries, <code class="docutils literal notranslate"><span class="pre">prev_oi_config</span></code> and <code class="docutils literal notranslate"><span class="pre">oi_config</span></code>,
which represent the previous and current configurations respectively.</p>
<p>The function also takes an optional list <code class="docutils literal notranslate"><span class="pre">skip_valid_checks_on</span></code>, which contains keys that
should be skipped during the comparison.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>prev_oi_config: dict</strong></dt><dd><p>Previous configuration to be compared against.</p>
</dd>
<dt><strong>oi_config: dict</strong></dt><dd><p>Current configuration to compare against <code class="docutils literal notranslate"><span class="pre">prev_oi_config</span></code>.</p>
</dd>
<dt><strong>skip_valid_checks_on: list or None, default None</strong></dt><dd><p>If not <code class="docutils literal notranslate"><span class="pre">None</span></code>, should be a list of keys to <strong>not</strong> check.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>None</dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">skip_valid_checks_on</span></code> is not provided, it defaults to an empty list.       The function then compares the two configurations and       raises an <code class="docutils literal notranslate"><span class="pre">AssertionError</span></code> if any key-value pairs do not match.</p></li>
<li><p>If the configurations do not match exactly, an <code class="docutils literal notranslate"><span class="pre">AssertionError</span></code> is raised.</p></li>
<li><p>This function assumes that the configurations are represented as dictionaries and       that the keys in both dictionaries are the same.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.compare_dataframes">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">compare_dataframes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge_on</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns_to_compare</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_other_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">how</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'outer'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffixes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['_1',</span> <span class="pre">'_2']</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.compare_dataframes" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.config_func">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">config_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename_as_arg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.config_func" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>Apply a function based on configuration input.</p>
<p>The aim is to allow one to apply a function, possibly on data from a DataFrame,
using a specification that can be stored in a JSON configuration file.</p>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>This function uses <code class="docutils literal notranslate"><span class="pre">eval()</span></code> so could allow for arbitrary code execution.</p></li>
<li><p>If DataFrame <code class="docutils literal notranslate"><span class="pre">df</span></code> is provided, then can provide input (<code class="docutils literal notranslate"><span class="pre">col_args</span></code> and/or <code class="docutils literal notranslate"><span class="pre">col_kwargs</span></code>)     based on columns of <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p></li>
</ul>
</div>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>func: str or callable.</strong></dt><dd><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">str</span></code>, it will use <code class="docutils literal notranslate"><span class="pre">eval(func)</span></code> to convert it to a function.</p></li>
<li><p>If it contains one of <code class="docutils literal notranslate"><span class="pre">&quot;|&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;&amp;&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;=&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;+&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;-&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;*&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;/&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;%&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;&lt;&quot;</span></code>, and <code class="docutils literal notranslate"><span class="pre">&quot;&gt;&quot;</span></code>,           it will create a lambda function:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">:</span> <span class="nb">eval</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;arg1 </span><span class="si">{</span><span class="n">func</span><span class="si">}</span><span class="s2"> arg2&quot;</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">eval(func)</span></code> raises <code class="docutils literal notranslate"><span class="pre">NameError</span></code> and <code class="docutils literal notranslate"><span class="pre">source</span></code> is not <code class="docutils literal notranslate"><span class="pre">None</span></code>, it will run</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sa">f</span><span class="s2">&quot;from </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2"> import </span><span class="si">{</span><span class="n">func</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p>and try again.
This is to allow import function from a source.</p>
</dd>
<dt><strong>source: str or None, default None</strong></dt><dd><p>Package name where <code class="docutils literal notranslate"><span class="pre">func</span></code> can be found, if applicable. Used to import <code class="docutils literal notranslate"><span class="pre">func</span></code> from a package.
e.g.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">GPSat</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">config_func</span><span class="p">(</span><span class="n">func</span><span class="o">=</span><span class="s2">&quot;cumprod&quot;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s2">&quot;numpy&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>calls the function <code class="docutils literal notranslate"><span class="pre">cumprod</span></code> from the package <code class="docutils literal notranslate"><span class="pre">numpy</span></code>.</p>
</dd>
<dt><strong>args: list or None, default None</strong></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, an empty list will be used, i.e. no args will be used.
The values will be unpacked and provided to <code class="docutils literal notranslate"><span class="pre">func</span></code>: i.e. <code class="docutils literal notranslate"><span class="pre">func(*args,</span> <span class="pre">**kwargs)</span></code></p>
</dd>
<dt><strong>kwargs: dict or None, default None</strong></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">dict</span></code>, it will be unpacked (<code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>) to provide key word arguments to <code class="docutils literal notranslate"><span class="pre">func</span></code>.</p>
</dd>
<dt><strong>col_args: None or list of str, default None</strong></dt><dd><p>If DataFrame <code class="docutils literal notranslate"><span class="pre">df</span></code> is provided, it can use <code class="docutils literal notranslate"><span class="pre">col_args</span></code> to specify
which columns of <code class="docutils literal notranslate"><span class="pre">df</span></code> will be passed into <code class="docutils literal notranslate"><span class="pre">func</span></code> as arguments.</p>
</dd>
<dt><strong>col_kwargs: None or dict, default is None</strong></dt><dd><p>Keyword arguments to be passed to <code class="docutils literal notranslate"><span class="pre">func</span></code> specified as dict whose keys are parameters of <code class="docutils literal notranslate"><span class="pre">func</span></code> and values are
column names of a DataFrame <code class="docutils literal notranslate"><span class="pre">df</span></code>. Only applicable if <code class="docutils literal notranslate"><span class="pre">df</span></code> is provided.</p>
</dd>
<dt><strong>df: DataFrame or None, default None</strong></dt><dd><p>To provide if one wishes to use columns of a DataFrame as arguments to <code class="docutils literal notranslate"><span class="pre">func</span></code>.</p>
</dd>
<dt><strong>filename_as_arg: bool, default False</strong></dt><dd><p>Set <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">filename</span></code> is used as an argument to <code class="docutils literal notranslate"><span class="pre">func</span></code>.</p>
</dd>
<dt><strong>filename: str or None, default None</strong></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">filename_as_arg</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, then will provide <code class="docutils literal notranslate"><span class="pre">filename</span></code> as first arg.</p>
</dd>
<dt><strong>col_numpy: bool, default True</strong></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, when extracting columns from DataFrame, <code class="docutils literal notranslate"><span class="pre">.values</span></code> is used to convert to numpy array.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>any</dt><dd><p>Values returned by applying <code class="docutils literal notranslate"><span class="pre">func</span></code> on data. The type depends on <code class="docutils literal notranslate"><span class="pre">func</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> is not a dict, <code class="docutils literal notranslate"><span class="pre">col_kwargs</span></code> is not a dict, or <code class="docutils literal notranslate"><span class="pre">func</span></code> is not a string or callable.</p>
</dd>
<dt>AssertionError</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">df</span></code> is not provided but <code class="docutils literal notranslate"><span class="pre">col_args</span></code> or <code class="docutils literal notranslate"><span class="pre">col_kwargs</span></code> are.</p>
</dd>
<dt>AssertionError</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">func</span></code> is a string and cannot be imported on it’s own and <code class="docutils literal notranslate"><span class="pre">source</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">GPSat.utils</span> <span class="kn">import</span> <span class="n">config_func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config_func</span><span class="p">(</span><span class="n">func</span><span class="o">=</span><span class="s2">&quot;lambda x, y: x + y&quot;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="c1"># Computes 1 + 1</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config_func</span><span class="p">(</span><span class="n">func</span><span class="o">=</span><span class="s2">&quot;==&quot;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="c1"># Computes 1 == 1</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Using columns of a DataFrame as inputs:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;B&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config_func</span><span class="p">(</span><span class="n">func</span><span class="o">=</span><span class="s2">&quot;lambda x, y: x + y&quot;</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">col_args</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span> <span class="c1"># Computes df[&quot;A&quot;] + df[&quot;B&quot;]</span>
<span class="go">array([5, 7, 9])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config_func</span><span class="p">(</span><span class="n">func</span><span class="o">=</span><span class="s2">&quot;&lt;=&quot;</span><span class="p">,</span> <span class="n">col_args</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">],</span> <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">)</span> <span class="c1"># Computes df[&quot;A&quot;] &lt;= df[&quot;B&quot;]</span>
<span class="go">array([ True,  True,  True])</span>
</pre></div>
</div>
<p>We can also use functions from an external package by specifying <code class="docutils literal notranslate"><span class="pre">source</span></code>. For example,
the below reproduces the last example in <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.cumprod.html">numpy.cumprod</a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;B&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config_func</span><span class="p">(</span><span class="n">func</span><span class="o">=</span><span class="s2">&quot;cumprod&quot;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s2">&quot;numpy&quot;</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;axis&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span> <span class="n">col_args</span><span class="o">=</span><span class="p">[[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">]])</span>
<span class="go">array([[  1,   4],</span>
<span class="go">       [  2,  20],</span>
<span class="go">       [  6, 120]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.convert_lon_lat_str">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">convert_lon_lat_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.convert_lon_lat_str" title="Link to this definition"></a></dt>
<dd><p>Converts a string representation of longitude or latitude to a float value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x: str</strong></dt><dd><p>A string representation of longitude or latitude in the format of <code class="docutils literal notranslate"><span class="pre">&quot;[degrees]</span> <span class="pre">[minutes]</span> <span class="pre">[direction]&quot;</span></code>,
where <code class="docutils literal notranslate"><span class="pre">[direction]</span></code> is one of <code class="docutils literal notranslate"><span class="pre">&quot;N&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;S&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;E&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;W&quot;</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>float</dt><dd><p>The converted value of the input string as a float.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If the input is not a string.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">convert_lon_lat_str</span><span class="p">(</span><span class="s1">&#39;74 0.1878 N&#39;</span><span class="p">)</span>
<span class="go">74.00313</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">convert_lon_lat_str</span><span class="p">(</span><span class="s1">&#39;140 0.1198 W&#39;</span><span class="p">)</span>
<span class="go">-140.001997</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.cprint">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">cprint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ENDC'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bcolors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'</span> <span class="pre">'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.cprint" title="Link to this definition"></a></dt>
<dd><p>Add color to print statements.</p>
<p>Based off of <a class="reference external" href="https://stackoverflow.com/questions/287871/how-do-i-print-colored-text-to-the-terminal">https://stackoverflow.com/questions/287871/how-do-i-print-colored-text-to-the-terminal</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x: str</strong></dt><dd><p>String to be printed.</p>
</dd>
<dt><strong>c: str, default “ENDC”</strong></dt><dd><p>Valid key in <code class="docutils literal notranslate"><span class="pre">bcolors</span></code>. If <code class="docutils literal notranslate"><span class="pre">bcolors</span></code> is not provided, then default will be used, containing keys:
<code class="docutils literal notranslate"><span class="pre">'HEADER'</span></code>, <code class="docutils literal notranslate"><span class="pre">'OKBLUE'</span></code>, <code class="docutils literal notranslate"><span class="pre">'OKCYAN'</span></code>, <code class="docutils literal notranslate"><span class="pre">'OKGREEN'</span></code>, <code class="docutils literal notranslate"><span class="pre">'WARNING'</span></code>, <code class="docutils literal notranslate"><span class="pre">'FAIL'</span></code>, <code class="docutils literal notranslate"><span class="pre">'ENDC'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'BOLD'</span></code>, <code class="docutils literal notranslate"><span class="pre">'UNDERLINE'</span></code>.</p>
</dd>
<dt><strong>bcolors: dict or None, default None</strong></dt><dd><p>Dict with values being colors / how to format the font. These cane be chained together.
See the codes in: <a class="reference external" href="https://en.wikipedia.org/wiki/ANSI_escape_code#3-bit_and_4-bit">https://en.wikipedia.org/wiki/ANSI_escape_code#3-bit_and_4-bit</a>.</p>
</dd>
<dt><strong>sep: str, default “ “</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">sep</span></code> argument passed along to <code class="docutils literal notranslate"><span class="pre">print()</span></code>.</p>
</dd>
<dt><strong>end: str, default “\n”</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">end</span></code> argument passed along to <code class="docutils literal notranslate"><span class="pre">print()</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>None</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.dataframe_to_2d_array">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">dataframe_to_2d_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-09</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.dataframe_to_2d_array" title="Link to this definition"></a></dt>
<dd><p>Extract values from DataFrame to create a 2-d array of values (<code class="docutils literal notranslate"><span class="pre">val_col</span></code>)
- assuming the values came from a 2-d array.
Requires dimension columns <code class="docutils literal notranslate"><span class="pre">x_col</span></code>, <code class="docutils literal notranslate"><span class="pre">y_col</span></code> (do not have to be ordered in DataFrame).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df: pandas.DataFrame</strong></dt><dd><p>The dataframe to convert to a 2D array.</p>
</dd>
<dt><strong>x_col: str</strong></dt><dd><p>The name of the column in the dataframe that contains the x coordinates.</p>
</dd>
<dt><strong>y_col: str</strong></dt><dd><p>The name of the column in the dataframe that contains the y coordinates.</p>
</dd>
<dt><strong>val_col: str</strong></dt><dd><p>The name of the column in the dataframe that contains the values to be placed in the 2D array.</p>
</dd>
<dt><strong>tol: float, default 1e-9</strong></dt><dd><p>The tolerance for matching the x and y coordinates to the grid.</p>
</dd>
<dt><strong>fill_val: float, default np.nan</strong></dt><dd><p>The value to fill the 2D array with if a coordinate is missing.</p>
</dd>
<dt><strong>dtype: str or numpy.dtype or None, default None</strong></dt><dd><p>The data type of the values in the 2D array.</p>
</dd>
<dt><strong>decimals: int, default 1</strong></dt><dd><p>The number of decimal places to round x and y values to before taking unique.
If decimals is negative, it specifies the number of positions to the left of the decimal point.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>tuple</dt><dd><p>A tuple containing the 2D numpy array of values, the x coordinates of the grid, and the y coordinates of the grid.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If any of the required columns are missing from the dataframe, or if any coordinates have more than one value.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The spacing of grid is determined by the smallest step size in the <code class="docutils literal notranslate"><span class="pre">x_col</span></code>, <code class="docutils literal notranslate"><span class="pre">y_col</span></code> direction, respectively.</p></li>
<li><p>This is meant to reverse the process of putting values from a regularly spaced grid into a DataFrame.     <em>Do not expect this to work on arbitrary x,y coordinates</em>.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.dataframe_to_array">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">dataframe_to_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dropna</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.dataframe_to_array" title="Link to this definition"></a></dt>
<dd><p>Converts a pandas DataFrame to a numpy array, where the DataFrame has columns that represent dimensions
of the array and the DataFrame rows represent values in the array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df</strong><span class="classifier">pandas DataFrame</span></dt><dd><p>The DataFrame containing values convert to a numpy ndarray.</p>
</dd>
<dt><strong>val_col</strong><span class="classifier">str</span></dt><dd><p>The name of the column in the DataFrame that contains the values to be placed in the array.</p>
</dd>
<dt><strong>idx_col</strong><span class="classifier">str or list of str or None, default None</span></dt><dd><p>The name(s) of the column(s) in the DataFrame that represent the dimensions of the array.
If not provided, the index of the DataFrame will be used as the dimension(s).</p>
</dd>
<dt><strong>dropna</strong><span class="classifier">bool, default True</span></dt><dd><p>Whether to drop rows with missing values before converting to the array.</p>
</dd>
<dt><strong>fill_val</strong><span class="classifier">scalar, default np.nan</span></dt><dd><p>The value to fill in the array for missing values.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>numpy array</dt><dd><p>The resulting numpy array.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If the dimension values are not integers or have gaps, or if the <code class="docutils literal notranslate"><span class="pre">idx_col</span></code>
parameter contains column names that are not in the DataFrame.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">GPSat.utils</span> <span class="kn">import</span> <span class="n">dataframe_to_array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s1">&#39;dim1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s1">&#39;dim2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s1">&#39;values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">dataframe_to_array</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="s1">&#39;values&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;dim1&#39;</span><span class="p">,</span> <span class="s1">&#39;dim2&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="go">[[1 2]</span>
<span class="go"> [3 4]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.dict_of_array_to_dict_of_dataframe">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">dict_of_array_to_dict_of_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.dict_of_array_to_dict_of_dataframe" title="Link to this definition"></a></dt>
<dd><p>Converts a dictionary of arrays to a dictionary of pandas DataFrames.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>array_dict</strong><span class="classifier">dict</span></dt><dd><p>A dictionary where the keys are strings and the values are numpy arrays.</p>
</dd>
<dt><strong>concat</strong><span class="classifier">bool, optional</span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, concatenates DataFrames with the same number of dimensions. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
<dt><strong>reset_index</strong><span class="classifier">bool, optional</span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, resets the index of each DataFrame. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>dict</dt><dd><p>A dictionary where the keys are strings and the values are pandas DataFrames.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This function uses the <a class="reference internal" href="utils.html#GPSat.utils.array_to_dataframe" title="GPSat.utils.array_to_dataframe"><code class="xref py py-func docutils literal notranslate"><span class="pre">array_to_dataframe</span></code></a>
function to convert each array to a DataFrame. If <code class="docutils literal notranslate"><span class="pre">concat</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>,
it will concatenate DataFrames with the same number of dimensions. If <code class="docutils literal notranslate"><span class="pre">reset_index</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>,
it will reset the index of each DataFrame.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]),</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]),</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">,</span> <span class="mf">3.3</span><span class="p">])}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_of_array_to_dict_of_dataframe</span><span class="p">(</span><span class="n">array_dict</span><span class="p">)</span>
<span class="go">{&#39;a&#39;:       a</span>
<span class="go">    _dim_0   </span>
<span class="go">    0       1</span>
<span class="go">    1       2</span>
<span class="go">    2       3,</span>
<span class="go">&#39;b&#39;:               b</span>
<span class="go">    _dim_0 _dim_1   </span>
<span class="go">    0      0       1</span>
<span class="go">           1       2</span>
<span class="go">    1      0       3</span>
<span class="go">           1       4,</span>
<span class="go">&#39;c&#39;:        c</span>
<span class="go">    _dim_0     </span>
<span class="go">    0       1.1</span>
<span class="go">    1       2.2</span>
<span class="go">    2       3.3}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dict_of_array_to_dict_of_dataframe</span><span class="p">(</span><span class="n">array_dict</span><span class="p">,</span> <span class="n">concat</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">{1:         a    c</span>
<span class="go">    _dim_0</span>
<span class="go">    0       1  1.1</span>
<span class="go">    1       2  2.2</span>
<span class="go">    2       3  3.3,</span>
<span class="go">2:                 b</span>
<span class="go">    _dim_0 _dim_1</span>
<span class="go">    0      0       1</span>
<span class="go">           1       2</span>
<span class="go">    1      0       3</span>
<span class="go">           1       4}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dict_of_array_to_dict_of_dataframe</span><span class="p">(</span><span class="n">array_dict</span><span class="p">,</span> <span class="n">reset_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">{&#39;a&#39;:    _dim_0  a</span>
<span class="go">    0       0    1</span>
<span class="go">    1       1    2</span>
<span class="go">    2       2    3,</span>
<span class="go"> &#39;b&#39;:    _dim_0  _dim_1  b</span>
<span class="go">    0       0       0    1</span>
<span class="go">    1       0       1    2</span>
<span class="go">    2       1       0    3</span>
<span class="go">    3       1       1    4,</span>
<span class="go"> &#39;c&#39;:    _dim_0  c</span>
<span class="go">    0       0    1.1</span>
<span class="go">    1       1    2.2</span>
<span class="go">    2       2    3.3}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.diff_distance">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">diff_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.diff_distance" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.expand_dict_by_vals">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">expand_dict_by_vals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expand_keys</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.expand_dict_by_vals" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.get_col_values">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">get_col_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.get_col_values" title="Link to this definition"></a></dt>
<dd><p>This function takes in a pandas DataFrame, a column name or index, and a boolean flag indicating whether
to return the column values as a numpy array or not. It returns the values of the specified column as
either a pandas Series or a numpy array, depending on the value of the <code class="docutils literal notranslate"><span class="pre">return_numpy</span></code> flag.</p>
<p>If the column is specified by name and it does not exist in the DataFrame, the function will attempt
to use the column index instead. If the column is specified by index and it is not a valid integer index,
the function will raise an <code class="docutils literal notranslate"><span class="pre">AssertionError</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df: pandas DataFrame</strong></dt><dd><p>A pandas DataFrame containing data.</p>
</dd>
<dt><strong>col: str or int</strong></dt><dd><p>The name of column to extract data from. If specified as an int n,
it will extract data from the n-th column.</p>
</dd>
<dt><strong>return_numpy: bool, default True</strong></dt><dd><p>Whether to return as numpy array.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>numpy array</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">return_numpy</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd>
<dt>pandas Series</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">return_numpy</span></code> is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">GPSat.utils</span> <span class="kn">import</span> <span class="n">get_col_values</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col_values</span> <span class="o">=</span> <span class="n">get_col_values</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">col_values</span><span class="p">)</span>
<span class="go">[1 2 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.get_config_from_sysargv">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">get_config_from_sysargv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">argv_num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.get_config_from_sysargv" title="Link to this definition"></a></dt>
<dd><p>This function takes an optional argument <code class="docutils literal notranslate"><span class="pre">argv_num</span></code> (default value of <code class="docutils literal notranslate"><span class="pre">1</span></code>) and
attempts to read a JSON configuration file from the corresponding index in <code class="docutils literal notranslate"><span class="pre">sys.argv</span></code>.</p>
<p>If the file extension is not <code class="docutils literal notranslate"><span class="pre">.json</span></code>, it prints a message indicating that the file is not a JSON file.</p>
<p>If an error occurs while reading the file, it prints an error message.</p>
<p>This function could benefit from refactoring to use the <code class="docutils literal notranslate"><span class="pre">argparse</span></code> package instead of manually parsing <code class="docutils literal notranslate"><span class="pre">sys.argv</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>argv_num :int, default 1</strong></dt><dd><p>The index in <code class="docutils literal notranslate"><span class="pre">sys.argv</span></code> to read the configuration file from.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>dict or None</dt><dd><p>The configuration data loaded from the JSON file,
or <code class="docutils literal notranslate"><span class="pre">None</span></code> if an error occurred while reading the file.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.get_git_information">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">get_git_information</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.get_git_information" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>This function retrieves information about the current state of a Git repository.</p>
</div></blockquote>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>dict</dt><dd><p>Contains the following keys:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;branch&quot;</span></code>: the name of the current branch.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;remote&quot;</span></code>: a list of strings representing the remote repositories and their URLs.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;commit&quot;</span></code>: the hash of the current commit.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;details&quot;</span></code>: a list of strings representing the details of the last commit (author, date, message).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;modified&quot;</span></code> (optional): a list of strings representing the files modified since the last commit.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>If the current branch cannot be determined, the function will attempt to retrieve it from the list of all branches.</p></li>
<li><p>If there are no remote repositories, the <code class="docutils literal notranslate"><span class="pre">&quot;remote&quot;</span></code> key will be an empty list.</p></li>
<li><p>If there are no modified files, the <code class="docutils literal notranslate"><span class="pre">&quot;modified&quot;</span></code> key will not be present in the output.</p></li>
<li><p>This function requires the Git command line tool to be installed and accessible from the command line.</p></li>
</ul>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.get_previous_oi_config">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">get_previous_oi_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">store_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oi_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'oi_config'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_valid_checks_on</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.get_previous_oi_config" title="Link to this definition"></a></dt>
<dd><p>This function retrieves the previous configuration from optimal interpolation (OI) results file (<code class="docutils literal notranslate"><span class="pre">store_path</span></code>)</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">store_path</span></code> exists, it is expected to contain a table called “oi_config”
with the previous configurations stored as rows.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">store_path</span></code> does not exist, the function creates the file and
adds the current configuration (<code class="docutils literal notranslate"><span class="pre">oi_config</span></code>) as the first row in “oi_config” table.</p>
<p>Each row in the “oi_config” table contains columns ‘idx’ (index), ‘datetime’ and ‘config’.
The values in the ‘config’ are provided <code class="docutils literal notranslate"><span class="pre">oi_config</span></code> (dict) converted to str.</p>
<p>If the table (<code class="docutils literal notranslate"><span class="pre">oi_config</span></code>) already exists, the function will match the provide <code class="docutils literal notranslate"><span class="pre">oi_config</span></code>
against the previous config values, if any match exactly the largest config id will be returned.
Otherwise (<code class="docutils literal notranslate"><span class="pre">oi_config</span></code> does <strong>not</strong> exactly match any previous config) then the largest idx value will be
increment and returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>store_path: str</strong></dt><dd><p>The file path where the configurations are stored.</p>
</dd>
<dt><strong>oi_config: dict</strong></dt><dd><p>Representing the current configuration for the OI system.</p>
</dd>
<dt><strong>table_name: str, default “oi_config”</strong></dt><dd><p>The table where the configurations will be store.</p>
</dd>
<dt><strong>skip_valid_checks_on: list of str or None, default None</strong></dt><dd><p>If list the names of the configuration keys that should be skipped during validation checks.
<strong>Note:</strong> validation checks are not done in this function.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>dict</dt><dd><p>Previous configuration as a dictionary.</p>
</dd>
<dt>list</dt><dd><p>List of configuration keys to skipped during validation checks.</p>
</dd>
<dt>int</dt><dd><p>Configuration ID.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.get_weighted_values">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">get_weighted_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dist_to_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_cols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gaussian'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_weight_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">weight_kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.get_weighted_values" title="Link to this definition"></a></dt>
<dd><p>Calculate the weighted values of specified columns in a DataFrame based on the distance between two other columns,
using a specified weighting function. The current implementation supports a Gaussian weight based on the euclidean
distance between the values in <cite>ref_col</cite> and <cite>dist_to_col</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>The input DataFrame containing the reference column, distance-to column, and value columns.</p>
</dd>
<dt><strong>ref_col</strong><span class="classifier">list of str or str</span></dt><dd><p>The name of the column(s) to use as reference points for calculating distances.</p>
</dd>
<dt><strong>dist_to_col</strong><span class="classifier">list of str or str</span></dt><dd><p>The name of the column(s) to calculate distances to, from <cite>ref_col</cite>. They should align / correspond to the
column(s) set by ref_col.</p>
</dd>
<dt><strong>val_cols</strong><span class="classifier">list of str or str</span></dt><dd><p>The names of the column(s) for which the weighted values are calculated. Can be a single column name or a list
of names.</p>
</dd>
<dt><strong>weight_function</strong><span class="classifier">str, optional</span></dt><dd><p>The type of weighting function to use. Currently, only “gaussian” is implemented, which applies a Gaussian
weighting (exp(-d^2)) based on the squared euclidean distance. The default is “gaussian”.</p>
</dd>
<dt><strong>drop_weight_cols: bool, optional, default True.</strong></dt><dd><p>if False the total weight and total weighted function values are included in the output</p>
</dd>
<dt><strong>**weight_kwargs</strong><span class="classifier">dict</span></dt><dd><p>Additional keyword arguments for the weighting function. For the Gaussian weight, this includes:
- lengthscale (float): The length scale to use in the Gaussian function. This parameter scales the distance
before applying the Gaussian function and must be provided.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>pandas.DataFrame</dt><dd><p>A DataFrame containing the weighted values for each of the specified value columns. The output DataFrame has
the reference column as the index and each of the specified value columns with their weighted values.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If the shapes of the <cite>ref_col</cite> and <cite>dist_to_col</cite> do not match, or if the required <cite>lengthscale</cite> parameter for
the Gaussian weighting function is not provided.</p>
</dd>
<dt>NotImplementedError</dt><dd><p>If a <cite>weight_function</cite> other than “gaussian” is specified.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The function currently only implements Gaussian weighting. The Gaussian weight is calculated as exp(-d^2 / (2 * l^2)),
where <cite>d</cite> is the squared euclidean distance between <cite>ref_col</cite> and <cite>dist_to_col</cite>, and <cite>l</cite> is the <cite>lengthscale</cite>.</p></li>
<li><p>This implementation assumes the input DataFrame does not contain NaN values in the reference or distance-to columns.
Handling NaN values may require additional preprocessing or the use of fillna methods.</p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;ref_col&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s1">&#39;dist_to_col&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s1">&#39;value1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s1">&#39;value2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">400</span><span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weighted_df</span> <span class="o">=</span> <span class="n">get_weighted_values</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="s1">&#39;ref_col&#39;</span><span class="p">,</span> <span class="s1">&#39;dist_to_col&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;value1&#39;</span><span class="p">,</span> <span class="s1">&#39;value2&#39;</span><span class="p">],</span> <span class="n">lengthscale</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">weighted_df</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.glue_local_predictions">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">glue_local_predictions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">preds_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expert_locs_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#GPSat.utils.glue_local_predictions" title="Link to this definition"></a></dt>
<dd><p><strong>Depracated.</strong> Use <a class="reference internal" href="postprocessing.html#GPSat.postprocessing.glue_local_predictions_1d" title="GPSat.postprocessing.glue_local_predictions_1d"><code class="xref py py-func docutils literal notranslate"><span class="pre">glue_local_predictions_1d</span></code></a>
and <a class="reference internal" href="postprocessing.html#GPSat.postprocessing.glue_local_predictions_2d" title="GPSat.postprocessing.glue_local_predictions_2d"><code class="xref py py-func docutils literal notranslate"><span class="pre">glue_local_predictions_2d</span></code></a> instead.</p>
<p>Glues overlapping predictions by taking a normalised Gaussian weighted average.</p>
<p><strong>Warning:</strong> This method only deals with expert locations on a regular grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>preds_df: pd.DataFrame</strong></dt><dd><p>containing predictions generated from local expert OI. It should have the following columns:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pred_loc_x</span></code> (float): The x-coordinate of the prediction location.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pred_loc_y</span></code> (float): The y-coordinate of the prediction location.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f*</span></code> (float): The predictive mean at the location (pred_loc_x, pred_loc_y).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f*_var</span></code> (float): The predictive variance at the location (pred_loc_x, pred_loc_y).</p></li>
</ul>
</dd>
<dt><strong>expert_locs_df: pd.DataFrame</strong></dt><dd><p>containing local expert locations used to perform optimal interpolation.
It should have the following columns:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code> (float): The x-coordinate of the expert location.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code> (float): The y-coordinate of the expert location.</p></li>
</ul>
</dd>
<dt><strong>sigma: int, float, or list, default 3</strong></dt><dd><p>The standard deviation of the Gaussian weighting in the x and y directions.</p>
<ul class="simple">
<li><p>If a single value is provided, it is used for both directions.</p></li>
<li><p>If a list is provided, the first value is used for the x direction and the second value is used for the y direction. Defaults to 3.</p></li>
</ul>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>pd.DataFrame:</dt><dd><p>Dataframe consisting of glued predictions (mean and std). It has the following columns:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pred_loc_x</span></code> (float): The x-coordinate of the prediction location.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pred_loc_y</span></code> (float): The y-coordinate of the prediction location.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f*</span></code> (float): The glued predictive mean at the location (<code class="docutils literal notranslate"><span class="pre">pred_loc_x</span></code>, <code class="docutils literal notranslate"><span class="pre">pred_loc_y</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f*_std</span></code> (float): The glued predictive standard deviation at the location (<code class="docutils literal notranslate"><span class="pre">pred_loc_x</span></code>, <code class="docutils literal notranslate"><span class="pre">pred_loc_y</span></code>).</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The function assumes that the expert locations are equally spaced in both the x and y directions.</p></li>
<li><p>The function uses the <code class="docutils literal notranslate"><span class="pre">scipy.stats.norm.pdf</span></code> function to compute the Gaussian weights.</p></li>
<li><p>The function normalizes the weighted sums with the total weights at each location.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.grid_2d_flatten">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">grid_2d_flatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_range</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_range</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.grid_2d_flatten" title="Link to this definition"></a></dt>
<dd><p>Create a 2D grid of points defined by x and y ranges,
with the option to specify the grid resolution, step size, or number of steps.
The resulting grid is flattened and concatenated into a 2D array of (x,y) coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x_range: tuple or list of floats</strong></dt><dd><p>Two values representing the minimum and maximum values of the x-axis range.</p>
</dd>
<dt><strong>y_range: tuple or list of floats</strong></dt><dd><p>Two values representing the minimum and maximum values of the y-axis range.</p>
</dd>
<dt><strong>grid_res: float or None, default None</strong></dt><dd><p>The grid resolution, i.e. the distance between adjacent grid points.
If specified, this parameter takes precedence over <code class="docutils literal notranslate"><span class="pre">step_size</span></code> and <code class="docutils literal notranslate"><span class="pre">num_step</span></code>.</p>
</dd>
<dt><strong>step_size: float or None, default None</strong></dt><dd><p>The step size between adjacent grid points.
If specified, this parameter takes precedence over <code class="docutils literal notranslate"><span class="pre">num_step</span></code>.</p>
</dd>
<dt><strong>num_step: int or None, default None</strong></dt><dd><p>The number of steps between the minimum and maximum values of the x and y ranges.
If specified, this parameter is used only if <code class="docutils literal notranslate"><span class="pre">grid_res</span></code> and <code class="docutils literal notranslate"><span class="pre">step_size</span></code> are not specified (are <code class="docutils literal notranslate"><span class="pre">None</span></code>).
<strong>Note:</strong> the number of steps includes the starting point, so from 0 to 1 is two steps</p>
</dd>
<dt><strong>center: bool, default True</strong></dt><dd><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the resulting grid points will be the centers of the grid cells.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">False</span></code>, the resulting grid points will be the edges of the grid cells.</p></li>
</ul>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>ndarray</dt><dd><p>A 2D array of (x,y) coordinates, where each row represents a single point in the grid.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">grid_res</span></code>, <code class="docutils literal notranslate"><span class="pre">step_size</span></code> and <code class="docutils literal notranslate"><span class="pre">num_step</span></code> are all unspecified. Must specify at least one.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">GPSat.utils</span> <span class="kn">import</span> <span class="n">grid_2d_flatten</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid_2d_flatten</span><span class="p">(</span><span class="n">x_range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">y_range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">grid_res</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">array([[0.5, 0.5],</span>
<span class="go">       [1.5, 0.5],</span>
<span class="go">       [0.5, 1.5],</span>
<span class="go">       [1.5, 1.5]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.guess_track_num">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">guess_track_num</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_track</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.guess_track_num" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.inverse_sigmoid">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">inverse_sigmoid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.inverse_sigmoid" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.inverse_softplus">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">inverse_softplus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.inverse_softplus" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.json_load">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">json_load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.json_load" title="Link to this definition"></a></dt>
<dd><p>This function loads a JSON file from the specified file path and
applies a nested dictionary literal evaluation (nested_dict_literal_eval)
to convert any string keys in the format of ‘(…,…)’ to tuple keys.</p>
<p>The resulting dictionary is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>file_path: str</strong></dt><dd><p>The path to the JSON file to be loaded.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>dict or list of dict</dt><dd><p>The loaded JSON file as a dictionary or list of dictionaries.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Assuming a JSON file named ‘config.json’ with the following contents:
{</p>
<blockquote>
<div><dl class="simple">
<dt>“key1”: “value1”,</dt><dd><p>“(‘key2’, ‘key3’)”: “value2”,
“key4”: {“(‘key5’, ‘key6’)”: “value3”}</p>
</dd>
</dl>
</div></blockquote>
<p>}</p>
<p>The following code will load the file and convert the ‘(key2, key3)’ and ‘(key5, key6)’ keys to tuple keys:
config = json_load(‘config.json’)
print(config)</p>
<dl class="simple">
<dt>{‘key1’: ‘value1’,</dt><dd><p>‘(key2, key3)’: ‘value2’,
‘key4’: {‘(key5, key6)’: ‘value3’}}</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.json_serializable">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">json_serializable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_len_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.json_serializable" title="Link to this definition"></a></dt>
<dd><p>Converts a dictionary to a format that can be stored as JSON via the <cite>json.dumps()</cite> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>d :dict</strong></dt><dd><p>The dictionary to be converted.</p>
</dd>
<dt><strong>max_len_df: int, default 100</strong></dt><dd><p>The maximum length of a Pandas DataFrame or Series that can be converted to a string representation.
If the length of the DataFrame or Series is greater than this value, it will be stored as a string. Defaults to 100.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>dict</dt><dd><p>The converted dictionary.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError: If the input is not a dictionary.</dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>If a key in the dictionary is a tuple, it will be converted to a string.</p></li>
</ul>
<p>To recover the original tuple, use nested_dict_literal_eval.
- If a value in the dictionary is a dictionary, the function will be called recursively to convert it.
- If a value in the dictionary is a NumPy array, it will be converted to a list.
- If a value in the dictionary is a Pandas DataFrame or Series,
it will be converted to a dictionary and the function will be called recursively to convert it
if its length is less than or equal to <cite>max_len_df</cite>. Otherwise, it will be stored as a string.
- If a value in the dictionary is not JSON serializable, it will be cast as a string.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.log_lines">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">log_lines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'debug'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.log_lines" title="Link to this definition"></a></dt>
<dd><p>This function logs lines to a file with a specified logging level.</p>
<p>This function takes in any number of arguments and a logging level.</p>
<p>The function checks that the logging level is valid and then iterates through the arguments.</p>
<p>If an argument is a string, integer, float, dictionary, tuple, or list, it is printed and
logged with the specified logging level.</p>
<p>If an argument is not one of these types, it is not logged and a message is printed indicating
the argument’s type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>*args: tuple</strong></dt><dd><p>arguments to be provided to logging using the method specified by level</p>
</dd>
<dt><strong>level: str, default “debug”</strong></dt><dd><p>must be one of [“debug”, “info”, “warning”, “error”, “critical”]
each argument provided is logged with getattr(logging, level)(arg)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>None</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.match">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exact</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-09</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.match" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>This function takes two arrays, x and y, and returns an array of indices indicating
where the elements of x match the elements of y. Can match exactly or within a specified tolerance.</p>
</div></blockquote>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x: array-like</strong></dt><dd><p>the first array to be matched. If not an array will convert via to_array.</p>
</dd>
<dt><strong>y: array-like</strong></dt><dd><p>the second array to be matched against. If not an array will convert via to_array.</p>
</dd>
<dt><strong>exact: bool, default=True.</strong></dt><dd><p>If True, the function matches exactly.
If False, the function matches within a specified tolerance.</p>
</dd>
<dt><strong>tol: float, optional, default=1e-9.</strong></dt><dd><p>The tolerance used for matching when exact=False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>indices: array</dt><dd><p>the indices of the matching elements in y for each element in x.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError: if any element in x is not found in y or if multiple matches are found for any element in x.</dt><dd></dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function requires x and y to be arrays or can be converted by to_array
If exact=False, the function only makes sense with floats. Use exact=True for int and str.
If both x and y are large, with lengths n and m, this function can take up alot of memory
as an intermediate bool array of size nxm is created.
If there are multiple matches of x in y the index of the first match is return</p>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.move_to_archive">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">move_to_archive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">top_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">archive_sub_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Archive'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.move_to_archive" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>Moves specified files from a directory to an archive sub-directory within the same directory.
Moved files will have a suffix added on before file extension.</p>
</div></blockquote>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>top_dir</strong><span class="classifier">str</span></dt><dd><p>The path to the directory containing the files to be moved.</p>
</dd>
<dt><strong>file_names</strong><span class="classifier">list of str, default None</span></dt><dd><p>The names of the files to be moved. If not specified, all files in the directory will be moved.</p>
</dd>
<dt><strong>suffix</strong><span class="classifier">str, default “”.</span></dt><dd><p>A string to be added to the end of the file name before the extension in the archive directory.</p>
</dd>
<dt><strong>archive_sub_dir</strong><span class="classifier">str, default ‘Archive’</span></dt><dd><p>The name of the sub-directory within the top directory where the files will be moved.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool, default is False.</span></dt><dd><p>If True, prints information about the files being moved.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>None</dt><dd><p>The function only moves files and does not return anything.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the archive sub-directory does not exist, it will be created.</p>
<p>If a file with the same name as the destination file already exists in the archive sub-directory, it will be overwritten.</p>
</div>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError</dt><dd><p>If top_dir does not exist or file_names is not specified.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Move all files in directory to archive sub-directory:
&gt;&gt;&gt; move_to_archive(“path/to/directory”)</p>
<p>Move specific files to archive sub-directory with a suffix added to the file name:
&gt;&gt;&gt; move_to_archive(“path/to/directory”, file_names=[“file1.txt”, “file2.txt”], suffix=”_backup”)</p>
<p>Move specific files to a custom archive sub-directory:
&gt;&gt;&gt; move_to_archive(“path/to/directory”, file_names=[“file1.txt”, “file2.txt”], archive_sub_dir=”Old Files”)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.nested_dict_literal_eval">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">nested_dict_literal_eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.nested_dict_literal_eval" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>Converts a nested dictionary with string keys that represent tuples to a dictionary with tuple keys.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>d: dict</strong></dt><dd><p>The nested dictionary to be converted.</p>
</dd>
<dt><strong>verbose: bool, default False</strong></dt><dd><p>If True, prints information about the keys being converted.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>dict</dt><dd><p>The converted dictionary with tuple keys.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError: If a string key cannot be evaluated as a tuple.</dt><dd></dd>
</dl>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function modifies the original dictionary in place.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.nll">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">nll</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_tot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.nll" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.not_nan">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">not_nan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.not_nan" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.pandas_to_dict">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">pandas_to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.pandas_to_dict" title="Link to this definition"></a></dt>
<dd><p>Converts a pandas Series or DataFrame (row) to a dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x: pd.Series, pd.DataFrame or dict</strong></dt><dd><p>The input object to be converted to a dictionary.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>dict:</dt><dd><p>A dictionary representation of the input object.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>AssertionError: If the input object is a DataFrame with more than one row.</dt><dd></dd>
</dl>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the input object is not a pandas Series, DataFrame, or dictionary,
a warning is issued and the input object is returned as is.</p>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;John&#39;</span><span class="p">,</span> <span class="s1">&#39;Jane&#39;</span><span class="p">],</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">25</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pandas_to_dict</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="go">AssertionError: in pandas_to_dict input provided as DataFrame, expected to only have 1 row, shape is: (2, 2)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">series</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pandas_to_dict</span><span class="p">(</span><span class="n">series</span><span class="p">)</span>
<span class="go">{0: &#39;John&#39;, 1: &#39;Jane&#39;}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;John&#39;</span><span class="p">,</span> <span class="s1">&#39;Jane&#39;</span><span class="p">],</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">25</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pandas_to_dict</span><span class="p">(</span><span class="n">dictionary</span><span class="p">)</span>
<span class="go">{&#39;name&#39;: [&#39;John&#39;, &#39;Jane&#39;], &#39;age&#39;: [30, 25]}</span>
</pre></div>
</div>
<p>select a single row of the dataframe</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pandas_to_dict</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">0</span><span class="p">]])</span>
<span class="go">{&#39;name&#39;: &#39;John&#39;, &#39;age&#39;: 30}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.pip_freeze_to_dataframe">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">pip_freeze_to_dataframe</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.pip_freeze_to_dataframe" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.pretty_print_class">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">pretty_print_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.pretty_print_class" title="Link to this definition"></a></dt>
<dd><p>This function takes in a class object as input and returns a string representation of the class name
without the leading “&lt;class ‘” and trailing “’&gt;”.</p>
<p>Alternatively will remove leading ‘&lt;__main__.’ and remove ‘ object at ‘, including anything that follows</p>
<p>The function achieves this by invoking the __str__ method of the class object and
then using regular expressions to remove the unwanted characters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x: an arbitrary class instance</strong></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>str</dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<dl class="simple">
<dt>class MyClass:</dt><dd><p>pass</p>
</dd>
</dl>
<p>print(pretty_print_class(MyClass))</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.rmse">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">rmse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.rmse" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.sigmoid">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">sigmoid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.sigmoid" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.softplus">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">softplus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.softplus" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.sparse_true_array">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">sparse_true_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_space</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_space_offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.sparse_true_array" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>Create a boolean numpy array with True values regularly spaced throughout, and False elsewhere.</p>
</div></blockquote>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>shape: iterable (e.g. list or tuple)</strong></dt><dd><p>representing the shape of the output array.</p>
</dd>
<dt><strong>grid_space: int, default 1</strong></dt><dd><p>representing the spacing between True values.</p>
</dd>
<dt><strong>grid_space_offset: int, default 0</strong></dt><dd><p>representing the offset of the first True value in each dimension.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>np.array</dt><dd><p>A boolean array with dimension equal to shape,
with False everywhere except for Trues regularly spaced every ‘grid_space’.
The fraction of True will be roughly equal to (1/n)^d where n = grid_space, d = len(shape).</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The first dimension is treated as the y dimension.
This function will return a bool array with dimension equal to shape with False everywhere except for Trues regularly spaced every ‘grid_space’.
The fraction of True will be roughly equal to (1/n)^d where n = grid_space, d = len(shape).
The function allows for grid_space_offset to be specific to each dimension.</p>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.stats_on_vals">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">stats_on_vals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">measure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.stats_on_vals" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>This function calculates various statistics on a given array of values.</p>
</div></blockquote>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>vals: array-like</strong></dt><dd><p>The input array of values.</p>
</dd>
<dt><strong>measure: str or None, default is None</strong></dt><dd><p>The name of the measure being calculated.</p>
</dd>
<dt><strong>name: str or None, default is None</strong></dt><dd><p>The name of the column in the output dataframe. Default is None.</p>
</dd>
<dt><strong>qs: list or None, defualt None</strong></dt><dd><p>A list of quantiles to calculate. If None then will use
[0.01, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 0.95, 0.99].</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>pd.DataFrame</dt><dd><p>containing the following statistics:
- measure: The name of the measure being calculated.
- size: The number of elements in the input array.
- num_not_nan: The number of non-NaN elements in the input array.
- num_inf: The number of infinite elements in the input array.
- min: The minimum value in the input array.
- mean: The mean value of the input array.
- max: The maximum value in the input array.
- std: The standard deviation of the input array.
- skew: The skewness of the input array.
- kurtosis: The kurtosis of the input array.
- qX: The Xth quantile of the input array, where X is the value in the qs parameter.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The function also includes a timer decorator that calculates the time taken to execute the function.</p>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.to_array">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">to_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%Y-%m-%d'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.to_array" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>Converts input arguments to numpy arrays.</p>
</div></blockquote>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>*args</strong><span class="classifier">tuple</span></dt><dd><p>Input arguments to be converted to numpy arrays.</p>
</dd>
<dt><strong>date_format</strong><span class="classifier">str, optional</span></dt><dd><p>Date format to be used when converting datetime.date objects to numpy arrays.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>generator</dt><dd><p>A generator that yields numpy arrays.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function converts input arguments to numpy arrays. If the input argument is already a numpy array, it is yielded as is. If the input argument is a list or tuple, it is converted to a numpy array and yielded. If the input argument is an integer, float, string, boolean, or numpy boolean, it is converted to a numpy array and yielded. If the input argument is a numpy integer or float, it is converted to a numpy array and yielded. If the input argument is a datetime.date object, it is converted to a numpy array using the specified date format and yielded. If the input argument is a numpy datetime64 object, it is yielded as is. If the input argument is None, an empty numpy array is yielded. If the input argument is of any other data type, a warning is issued and the input argument is converted to a numpy array of type object and yielded.</p>
</div>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
<p>since function returns are generator, get values out with next</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">to_array</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
<span class="go">[1 2 3]</span>
</pre></div>
</div>
<p>or, for a single array like object, can assign with</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">,</span> <span class="o">=</span>  <span class="n">to_array</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">arr</span> <span class="ow">in</span> <span class="n">to_array</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;arr type: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span><span class="si">}</span><span class="s2">, values: </span><span class="si">{</span><span class="n">arr</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">arr type: &lt;class &#39;numpy.ndarray&#39;&gt;, values: [1 2 3]</span>
<span class="go">arr type: &lt;class &#39;numpy.ndarray&#39;&gt;, values: [4 5 6]</span>
<span class="go">arr type: &lt;class &#39;numpy.ndarray&#39;&gt;, values: [&#39;2021-01-01&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.utils.track_num_for_date">
<span class="sig-prename descclassname"><span class="pre">GPSat.utils.</span></span><span class="sig-name descname"><span class="pre">track_num_for_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.utils.track_num_for_date" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-GPSat.vff">
<span id="gpsat-vff-module"></span><h2>GPSat.vff module<a class="headerlink" href="#module-GPSat.vff" title="Link to this heading"></a></h2>
<p>Code adapted from:
<a class="reference external" href="https://github.com/st--/VFF">https://github.com/st–/VFF</a></p>
<dl class="py class">
<dt class="sig sig-object py" id="GPSat.vff.BlockDiagMat">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GPSat.vff.</span></span><span class="sig-name descname"><span class="pre">BlockDiagMat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">B</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.BlockDiagMat" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.BlockDiagMat.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.BlockDiagMat.get" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.BlockDiagMat.get_diag">
<span class="sig-name descname"><span class="pre">get_diag</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.BlockDiagMat.get_diag" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.BlockDiagMat.inv">
<span class="sig-name descname"><span class="pre">inv</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.BlockDiagMat.inv" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.BlockDiagMat.inv_diag">
<span class="sig-name descname"><span class="pre">inv_diag</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.BlockDiagMat.inv_diag" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.BlockDiagMat.logdet">
<span class="sig-name descname"><span class="pre">logdet</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.BlockDiagMat.logdet" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.BlockDiagMat.matmul">
<span class="sig-name descname"><span class="pre">matmul</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.BlockDiagMat.matmul" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.BlockDiagMat.matmul_sqrt">
<span class="sig-name descname"><span class="pre">matmul_sqrt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.BlockDiagMat.matmul_sqrt" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.BlockDiagMat.matmul_sqrt_transpose">
<span class="sig-name descname"><span class="pre">matmul_sqrt_transpose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.BlockDiagMat.matmul_sqrt_transpose" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GPSat.vff.BlockDiagMat.shape">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#GPSat.vff.BlockDiagMat.shape" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.BlockDiagMat.solve">
<span class="sig-name descname"><span class="pre">solve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.BlockDiagMat.solve" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GPSat.vff.BlockDiagMat.sqrt_dims">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sqrt_dims</span></span><a class="headerlink" href="#GPSat.vff.BlockDiagMat.sqrt_dims" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.BlockDiagMat.trace_KiX">
<span class="sig-name descname"><span class="pre">trace_KiX</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.BlockDiagMat.trace_KiX" title="Link to this definition"></a></dt>
<dd><p>X is a square matrix of the same size as this one.
if self is K, compute tr(K^{-1} X)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GPSat.vff.DiagMat">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GPSat.vff.</span></span><span class="sig-name descname"><span class="pre">DiagMat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.DiagMat" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.DiagMat.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.DiagMat.get" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.DiagMat.get_diag">
<span class="sig-name descname"><span class="pre">get_diag</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.DiagMat.get_diag" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.DiagMat.inv">
<span class="sig-name descname"><span class="pre">inv</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.DiagMat.inv" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.DiagMat.inv_diag">
<span class="sig-name descname"><span class="pre">inv_diag</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.DiagMat.inv_diag" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.DiagMat.logdet">
<span class="sig-name descname"><span class="pre">logdet</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.DiagMat.logdet" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.DiagMat.matmul">
<span class="sig-name descname"><span class="pre">matmul</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">B</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.DiagMat.matmul" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.DiagMat.matmul_sqrt">
<span class="sig-name descname"><span class="pre">matmul_sqrt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">B</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.DiagMat.matmul_sqrt" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.DiagMat.matmul_sqrt_transpose">
<span class="sig-name descname"><span class="pre">matmul_sqrt_transpose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">B</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.DiagMat.matmul_sqrt_transpose" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GPSat.vff.DiagMat.shape">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#GPSat.vff.DiagMat.shape" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.DiagMat.solve">
<span class="sig-name descname"><span class="pre">solve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">B</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.DiagMat.solve" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GPSat.vff.DiagMat.sqrt_dims">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sqrt_dims</span></span><a class="headerlink" href="#GPSat.vff.DiagMat.sqrt_dims" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.DiagMat.trace_KiX">
<span class="sig-name descname"><span class="pre">trace_KiX</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.DiagMat.trace_KiX" title="Link to this definition"></a></dt>
<dd><p>X is a square matrix of the same size as this one.
if self is K, compute tr(K^{-1} X)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GPSat.vff.GPR_kron">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GPSat.vff.</span></span><span class="sig-name descname"><span class="pre">GPR_kron</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.GPR_kron" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">GPModel</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">InternalDataTrainingLossMixin</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.GPR_kron.elbo">
<span class="sig-name descname"><span class="pre">elbo</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.GPR_kron.elbo" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.GPR_kron.maximum_log_likelihood_objective">
<span class="sig-name descname"><span class="pre">maximum_log_likelihood_objective</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.GPR_kron.maximum_log_likelihood_objective" title="Link to this definition"></a></dt>
<dd><p>Objective for maximum likelihood estimation. Should be maximized. E.g.
log-marginal likelihood (hyperparameter likelihood) for GPR, or lower
bound to the log-marginal likelihood (ELBO) for sparse and variational
GPs.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>return</strong> has shape [].</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.GPR_kron.predict_f">
<span class="sig-name descname"><span class="pre">predict_f</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Xnew</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full_cov</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full_output_cov</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.GPR_kron.predict_f" title="Link to this definition"></a></dt>
<dd><p>Compute the mean and variance of the posterior latent function(s) at the input points.</p>
<p>Given $x_i$ this computes $f_i$, for:</p>
<div class="math notranslate nohighlight">
\begin{align}
    \theta        &amp; \sim p(\theta) \\
    f             &amp; \sim \mathcal{GP}(m(x), k(x, x'; \theta)) \\
    f_i           &amp; = f(x_i) \\
\end{align}</div><p>For an example of how to use <code class="docutils literal notranslate"><span class="pre">predict_f</span></code>, see
<span class="xref std std-doc">../../../../notebooks/getting_started/basic_usage</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Xnew</strong> – <ul>
<li><p><strong>Xnew</strong> has shape [<em>batch</em>…, <em>N</em>, <em>D</em>].</p></li>
</ul>
<p>Input locations at which to compute mean and variance.</p>
</p></li>
<li><p><strong>full_cov</strong> – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, compute the full covariance between the inputs.
If <code class="docutils literal notranslate"><span class="pre">False</span></code>, only returns the point-wise variance.</p></li>
<li><p><strong>full_output_cov</strong> – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, compute the full covariance between the outputs.
If <code class="docutils literal notranslate"><span class="pre">False</span></code>, assumes outputs are independent.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>return[0]</strong> has shape [<em>batch</em>…, <em>N</em>, <em>P</em>].</p></li>
<li><p><strong>return[1]</strong> has shape [<em>batch</em>…, <em>N</em>, <em>P</em>, <em>N</em>, <em>P</em>] if <em>full_cov</em> and <em>full_output_cov</em>.</p></li>
<li><p><strong>return[1]</strong> has shape [<em>batch</em>…, <em>N</em>, <em>P</em>, <em>P</em>] if (not <em>full_cov</em>) and <em>full_output_cov</em>.</p></li>
<li><p><strong>return[1]</strong> has shape [<em>batch</em>…, <em>N</em>, <em>P</em>] if (not <em>full_cov</em>) and (not <em>full_output_cov</em>).</p></li>
<li><p><strong>return[1]</strong> has shape [<em>batch</em>…, <em>P</em>, <em>N</em>, <em>N</em>] if <em>full_cov</em> and (not <em>full_output_cov</em>).</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GPSat.vff.LowRankMat">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GPSat.vff.</span></span><span class="sig-name descname"><span class="pre">LowRankMat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">W</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.LowRankMat" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.LowRankMat.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.LowRankMat.get" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.LowRankMat.get_diag">
<span class="sig-name descname"><span class="pre">get_diag</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.LowRankMat.get_diag" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.LowRankMat.inv">
<span class="sig-name descname"><span class="pre">inv</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.LowRankMat.inv" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.LowRankMat.inv_diag">
<span class="sig-name descname"><span class="pre">inv_diag</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.LowRankMat.inv_diag" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.LowRankMat.logdet">
<span class="sig-name descname"><span class="pre">logdet</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.LowRankMat.logdet" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.LowRankMat.matmul">
<span class="sig-name descname"><span class="pre">matmul</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">B</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.LowRankMat.matmul" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.LowRankMat.matmul_sqrt">
<span class="sig-name descname"><span class="pre">matmul_sqrt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">B</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.LowRankMat.matmul_sqrt" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>There’s a non-square sqrt of this matrix given by</dt><dd><p>[ D^{1/2}]
[   W^T  ]</p>
</dd>
</dl>
<p>This method right-multiplies the sqrt by the matrix B</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.LowRankMat.matmul_sqrt_transpose">
<span class="sig-name descname"><span class="pre">matmul_sqrt_transpose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">B</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.LowRankMat.matmul_sqrt_transpose" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>There’s a non-square sqrt of this matrix given by</dt><dd><p>[ D^{1/2}]
[   W^T  ]</p>
</dd>
</dl>
<p>This method right-multiplies the transposed-sqrt by the matrix B</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GPSat.vff.LowRankMat.shape">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#GPSat.vff.LowRankMat.shape" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.LowRankMat.solve">
<span class="sig-name descname"><span class="pre">solve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">B</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.LowRankMat.solve" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GPSat.vff.LowRankMat.sqrt_dims">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sqrt_dims</span></span><a class="headerlink" href="#GPSat.vff.LowRankMat.sqrt_dims" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.LowRankMat.trace_KiX">
<span class="sig-name descname"><span class="pre">trace_KiX</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.LowRankMat.trace_KiX" title="Link to this definition"></a></dt>
<dd><p>X is a square matrix of the same size as this one.
if self is K, compute tr(K^{-1} X)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GPSat.vff.LowRankMatNeg">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GPSat.vff.</span></span><span class="sig-name descname"><span class="pre">LowRankMatNeg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">W</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.LowRankMatNeg" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.LowRankMatNeg.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.LowRankMatNeg.get" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GPSat.vff.LowRankMatNeg.shape">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#GPSat.vff.LowRankMatNeg.shape" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GPSat.vff.Rank1Mat">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GPSat.vff.</span></span><span class="sig-name descname"><span class="pre">Rank1Mat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.Rank1Mat" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.Rank1Mat.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.Rank1Mat.get" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.Rank1Mat.get_diag">
<span class="sig-name descname"><span class="pre">get_diag</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.Rank1Mat.get_diag" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.Rank1Mat.inv">
<span class="sig-name descname"><span class="pre">inv</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.Rank1Mat.inv" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.Rank1Mat.inv_diag">
<span class="sig-name descname"><span class="pre">inv_diag</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.Rank1Mat.inv_diag" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.Rank1Mat.logdet">
<span class="sig-name descname"><span class="pre">logdet</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.Rank1Mat.logdet" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.Rank1Mat.matmul">
<span class="sig-name descname"><span class="pre">matmul</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">B</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.Rank1Mat.matmul" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.Rank1Mat.matmul_sqrt">
<span class="sig-name descname"><span class="pre">matmul_sqrt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">B</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.Rank1Mat.matmul_sqrt" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>There’s a non-square sqrt of this matrix given by</dt><dd><p>[ D^{1/2}]
[   V^T  ]</p>
</dd>
</dl>
<p>This method right-multiplies the sqrt by the matrix B</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.Rank1Mat.matmul_sqrt_transpose">
<span class="sig-name descname"><span class="pre">matmul_sqrt_transpose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">B</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.Rank1Mat.matmul_sqrt_transpose" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>There’s a non-square sqrt of this matrix given by</dt><dd><p>[ D^{1/2}]
[   W^T  ]</p>
</dd>
</dl>
<p>This method right-multiplies the transposed-sqrt by the matrix B</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GPSat.vff.Rank1Mat.shape">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#GPSat.vff.Rank1Mat.shape" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.Rank1Mat.solve">
<span class="sig-name descname"><span class="pre">solve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">B</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.Rank1Mat.solve" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GPSat.vff.Rank1Mat.sqrt_dims">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sqrt_dims</span></span><a class="headerlink" href="#GPSat.vff.Rank1Mat.sqrt_dims" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.Rank1Mat.trace_KiX">
<span class="sig-name descname"><span class="pre">trace_KiX</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.Rank1Mat.trace_KiX" title="Link to this definition"></a></dt>
<dd><p>X is a square matrix of the same size as this one.
if self is K, compute tr(K^{-1} X)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GPSat.vff.Rank1MatNeg">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GPSat.vff.</span></span><span class="sig-name descname"><span class="pre">Rank1MatNeg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.Rank1MatNeg" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="GPSat.vff.Rank1MatNeg.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.Rank1MatNeg.get" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GPSat.vff.Rank1MatNeg.shape">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#GPSat.vff.Rank1MatNeg.shape" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.vff.kron">
<span class="sig-prename descclassname"><span class="pre">GPSat.vff.</span></span><span class="sig-name descname"><span class="pre">kron</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">K</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.kron" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.vff.kron_two">
<span class="sig-prename descclassname"><span class="pre">GPSat.vff.</span></span><span class="sig-name descname"><span class="pre">kron_two</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">B</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.kron_two" title="Link to this definition"></a></dt>
<dd><p>compute the Kronecker product of two tensorfow tensors</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.vff.make_Kuf">
<span class="sig-prename descclassname"><span class="pre">GPSat.vff.</span></span><span class="sig-name descname"><span class="pre">make_Kuf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.make_Kuf" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.vff.make_Kuf_np">
<span class="sig-prename descclassname"><span class="pre">GPSat.vff.</span></span><span class="sig-name descname"><span class="pre">make_Kuf_np</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.make_Kuf_np" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.vff.make_Kuu">
<span class="sig-prename descclassname"><span class="pre">GPSat.vff.</span></span><span class="sig-name descname"><span class="pre">make_Kuu</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.make_Kuu" title="Link to this definition"></a></dt>
<dd><p># Make a representation of the Kuu matrices</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.vff.make_kvs">
<span class="sig-prename descclassname"><span class="pre">GPSat.vff.</span></span><span class="sig-name descname"><span class="pre">make_kvs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.make_kvs" title="Link to this definition"></a></dt>
<dd><p>Compute the kronecker-vector stack of the list of matrices k</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.vff.make_kvs_np">
<span class="sig-prename descclassname"><span class="pre">GPSat.vff.</span></span><span class="sig-name descname"><span class="pre">make_kvs_np</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.make_kvs_np" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.vff.make_kvs_two">
<span class="sig-prename descclassname"><span class="pre">GPSat.vff.</span></span><span class="sig-name descname"><span class="pre">make_kvs_two</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">B</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.make_kvs_two" title="Link to this definition"></a></dt>
<dd><p>compute the Kronecer-Vector stack of the matrices A and B</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.vff.make_kvs_two_np">
<span class="sig-prename descclassname"><span class="pre">GPSat.vff.</span></span><span class="sig-name descname"><span class="pre">make_kvs_two_np</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">B</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.vff.make_kvs_two_np" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-GPSat">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-GPSat" title="Link to this heading"></a></h2>
<p>Add package docstring here</p>
<dl class="py function">
<dt class="sig sig-object py" id="GPSat.get_config_path">
<span class="sig-prename descclassname"><span class="pre">GPSat.</span></span><span class="sig-name descname"><span class="pre">get_config_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">sub_dir</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.get_config_path" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.get_data_path">
<span class="sig-prename descclassname"><span class="pre">GPSat.</span></span><span class="sig-name descname"><span class="pre">get_data_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">sub_dir</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.get_data_path" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.get_parent_path">
<span class="sig-prename descclassname"><span class="pre">GPSat.</span></span><span class="sig-name descname"><span class="pre">get_parent_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">sub_dir</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.get_parent_path" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GPSat.get_path">
<span class="sig-prename descclassname"><span class="pre">GPSat.</span></span><span class="sig-name descname"><span class="pre">get_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">sub_dir</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GPSat.get_path" title="Link to this definition"></a></dt>
<dd><p>get_path to package</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="utils.html" class="btn btn-neutral float-left" title="Utils" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, CPOM UCL.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>